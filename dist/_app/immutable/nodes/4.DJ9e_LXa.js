import{a as $e,e as b,t as ie,b as q,c as k,d as D,f as oe,g as _,h as K,y as a,z as fe,j as G,k as p,D as ve,E as U,l as ne,r as Ce,m as ge,x as et,F as tt,w as lt,n as ce,G as ue,A as Te,H as st,v as de,I as W,J as at}from"../chunks/scheduler.BHwVQH1W.js";import{S as rt,i as it,t as X,a as $,c as be,b as Je,d as We,m as Xe,e as Qe,g as ke}from"../chunks/index.BwsQPvRT.js";import{m as ot,H as Se,S as nt,a as ae,$ as ct,s as ut,i as ft,C as dt,E as ht,L as pt,b as _t,P as mt,c as gt,d as vt,e as Ve,l as Le,g as bt,f as Be,h as kt,j as wt,k as Ae,n as yt,o as It,p as Et,q as He,r as Ne,t as Dt,W as Mt,u as Tt,v as Oe,w as St,R as Vt,D as Lt,x as Pe,y as Ue,z as Ge,A as je,B as Ct,F as Bt}from"../chunks/remapping.umd.lQRApfV9.js";const Re="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%3e%3cg%20id='sendmessage-hover'%20transform='translate(-1344%20-675)'%3e%3ccircle%20id='椭圆_1'%20data-name='椭圆%201'%20cx='18'%20cy='18'%20r='18'%20transform='translate(1344%20675)'%20fill='%234a928c'/%3e%3cpath%20id='路径_4063'%20data-name='路径%204063'%20d='M98.306,132.757l-14.225,2.384a.206.206,0,0,0-.123.337l1.765,2.064a.413.413,0,0,0,.462.117l12.175-4.705a.1.1,0,1,0-.054-.2ZM95.646,147.9l5.8-14.335a.206.206,0,0,0-.271-.268l-13.512,5.634a.309.309,0,0,0-.11.494l7.746,8.536a.206.206,0,0,0,.344-.061Zm-8.535-.093a1.454,1.454,0,0,1-.877.11.989.989,0,0,1-.836-1.153l-.408-7.478-2.1-2.506a2.03,2.03,0,0,1,1.236-3.407l16.715-2.279a2.034,2.034,0,0,1,2.1,2.885L97.283,148.5a2.048,2.048,0,0,1-3.336.522l-3.711-4.085q-.031.022-3.125,2.861ZM86.6,141.25l.248,4.3a.206.206,0,0,0,.351.135l1.718-1.7a.413.413,0,0,0,.023-.561l-1.977-2.31a.206.206,0,0,0-.363.146Z'%20transform='translate(1250.628%20567.078)%20rotate(-8)'%20fill='%23fff'/%3e%3crect%20id='矩形_3684'%20data-name='矩形%203684'%20width='36'%20height='36'%20transform='translate(1344%20675)'%20fill='none'/%3e%3crect%20id='矩形_3685'%20data-name='矩形%203685'%20width='36'%20height='36'%20rx='6'%20transform='translate(1344%20675)'%20fill='none'/%3e%3c/g%3e%3c/svg%3e";function qe(l,e,t){const s=l.slice();return s[47]=e[t],s[49]=t,s}function Ke(l){let e,t;return e=new nt({}),e.$on("settings-changed",Ft),{c(){Je(e.$$.fragment)},l(s){We(e.$$.fragment,s)},m(s,r){Xe(e,s,r),t=!0},p:ce,i(s){t||(X(e.$$.fragment,s),t=!0)},o(s){$(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function At(l){let e,t,s=l[8]("app.noConversation")+"",r;return{c(){e=b("div"),t=b("p"),r=ie(s),this.h()},l(h){e=k(h,"DIV",{class:!0});var d=D(e);t=k(d,"P",{});var n=D(t);r=oe(n,s),n.forEach(_),d.forEach(_),this.h()},h(){a(e,"class","flex justify-center items-center h-full")},m(h,d){G(h,e,d),p(e,t),p(t,r)},p(h,d){d[0]&256&&s!==(s=h[8]("app.noConversation")+"")&&ne(r,s)},i:ce,o:ce,d(h){h&&_(e)}}}function Ht(l){let e,t,s,r,h,d=He(l[7]),n=[];for(let i=0;i<d.length;i+=1)n[i]=Fe(qe(l,d,i));const u=i=>$(n[i],1,1,()=>{n[i]=null});return{c(){e=b("div"),t=b("div");for(let i=0;i<n.length;i+=1)n[i].c();s=q(),r=b("div"),this.h()},l(i){e=k(i,"DIV",{class:!0});var o=D(e);t=k(o,"DIV",{class:!0});var c=D(t);for(let E=0;E<n.length;E+=1)n[E].l(c);s=K(c),r=k(c,"DIV",{class:!0}),D(r).forEach(_),c.forEach(_),o.forEach(_),this.h()},h(){a(r,"class","tailblock h-10 w-full"),a(t,"class","w-full"),a(e,"class","flex grow max-w-full px-2")},m(i,o){G(i,e,o),p(e,t);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);p(t,s),p(t,r),h=!0},p(i,o){if(o[0]&1035752){d=He(i[7]);let c;for(c=0;c<d.length;c+=1){const E=qe(i,d,c);n[c]?(n[c].p(E,o),X(n[c],1)):(n[c]=Fe(E),n[c].c(),X(n[c],1),n[c].m(t,s))}for(ke(),c=d.length;c<n.length;c+=1)u(c);be()}},i(i){if(!h){for(let o=0;o<d.length;o+=1)X(n[o]);h=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)$(n[o]);h=!1},d(i){i&&_(e),st(n,i)}}}function Nt(l){let e,t=l[49]!==0&&Pt(l);return{c(){t&&t.c(),e=de()},l(s){t&&t.l(s),e=de()},m(s,r){t&&t.m(s,r),G(s,e,r)},p(s,r){s[49]!==0&&t.p(s,r)},i:ce,o:ce,d(s){s&&_(e),t&&t.d(s)}}}function Ot(l){let e,t,s,r=`<img src="${Ct}" alt="Profile" class="w-[1.5rem] h-[1.5rem]"/>`,h,d,n=l[8]("app.assistantname")+"",u,i,o,c,E,y;c=new Tt({props:{renderers:l[11],source:Oe(l[47].content.toString())}});let g=l[10]===!1&&ze(l);return{c(){e=b("div"),t=b("div"),s=b("div"),s.innerHTML=r,h=q(),d=b("div"),u=ie(n),i=q(),o=b("div"),Je(c.$$.fragment),E=q(),g&&g.c(),this.h()},l(m){e=k(m,"DIV",{class:!0});var v=D(e);t=k(v,"DIV",{class:!0});var I=D(t);s=k(I,"DIV",{"data-svelte-h":!0}),at(s)!=="svelte-9ctnqd"&&(s.innerHTML=r),h=K(I),d=k(I,"DIV",{class:!0});var V=D(d);u=oe(V,n),V.forEach(_),I.forEach(_),i=K(v),o=k(v,"DIV",{class:!0});var L=D(o);We(c.$$.fragment,L),L.forEach(_),E=K(v),g&&g.l(v),v.forEach(_),this.h()},h(){a(d,"class","relative ml-2 font-bold"),a(t,"class","profile-picture flex align-middle"),a(o,"class","message-display mt-2 transition-all duration-200 ease-in-out"),a(e,"class","message relative inline-block bg-primary mt-0 flex flex-col transition-all duration-200 ease-in-out")},m(m,v){G(m,e,v),p(e,t),p(t,s),p(t,h),p(t,d),p(d,u),p(e,i),p(e,o),Xe(c,o,null),p(e,E),g&&g.m(e,null),y=!0},p(m,v){(!y||v[0]&256)&&n!==(n=m[8]("app.assistantname")+"")&&ne(u,n);const I={};v[0]&128&&(I.source=Oe(m[47].content.toString())),c.$set(I),m[10]===!1?g?g.p(m,v):(g=ze(m),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(m){y||(X(c.$$.fragment,m),y=!0)},o(m){$(c.$$.fragment,m),y=!1},d(m){m&&_(e),Qe(c),g&&g.d()}}}function Pt(l){let e;function t(h,d){return h[5]===h[49]?Gt:Ut}let s=t(l),r=s(l);return{c(){r.c(),e=de()},l(h){r.l(h),e=de()},m(h,d){r.m(h,d),G(h,e,d)},p(h,d){s===(s=t(h))&&r?r.p(h,d):(r.d(1),r=s(h),r&&(r.c(),r.m(e.parentNode,e)))},d(h){h&&_(e),r.d(h)}}}function Ut(l){let e,t,s=l[8]("app.username")+"",r,h,d,n,u,i,o,c,E,y,g=l[47].content+"",m,v,I,V,L,H,N,C,T,F;function P(){return l[29](l[49])}return{c(){e=b("div"),t=b("h5"),r=ie(s),h=ie(":"),d=q(),n=b("div"),u=b("div"),i=b("div"),o=b("div"),c=b("div"),E=b("div"),y=b("div"),m=ie(g),v=q(),I=b("div"),V=b("button"),L=b("img"),this.h()},l(j){e=k(j,"DIV",{class:!0});var S=D(e);t=k(S,"H5",{class:!0});var B=D(t);r=oe(B,s),h=oe(B,":"),B.forEach(_),d=K(S),n=k(S,"DIV",{class:!0});var A=D(n);u=k(A,"DIV",{class:!0});var w=D(u);i=k(w,"DIV",{class:!0});var M=D(i);o=k(M,"DIV",{class:!0});var z=D(o);c=k(z,"DIV",{class:!0});var Z=D(c);E=k(Z,"DIV",{class:!0});var Q=D(E);y=k(Q,"DIV",{class:!0});var ee=D(y);m=oe(ee,g),ee.forEach(_),v=K(Q),I=k(Q,"DIV",{class:!0});var Y=D(I);V=k(Y,"BUTTON",{"data-tooltip":!0,class:!0});var te=D(V);L=k(te,"IMG",{class:!0,alt:!0,src:!0}),te.forEach(_),Y.forEach(_),Q.forEach(_),Z.forEach(_),z.forEach(_),M.forEach(_),w.forEach(_),A.forEach(_),S.forEach(_),this.h()},h(){a(t,"class","sr-only"),a(y,"class","whitespace-pre-wrap"),a(L,"class","edit-icon"),a(L,"alt",H=l[8]("app.edit")),W(L.src,N=Bt)||a(L,"src",N),a(V,"data-tooltip",C=l[8]("app.edit")),a(V,"class","btn-custom btn-edit flex items-center justify-center text-token-text-secondary transition"),a(I,"class","absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block"),a(E,"class","group/conversation-turn relative max-w-[70%] rounded-3xl px-3 py-2 bg-[#f4f4f4] rounded-tr-lg"),a(c,"class","flex w-full flex-col gap-1 empty:hidden items-end rtl:items-start"),a(o,"class","min-h-[20px] text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),a(i,"class","flex max-w-full flex-col flex-grow"),a(u,"class","flex-col gap-1 md:gap-3"),a(n,"class","message relative flex w-full min-w-0 flex-col"),a(e,"class","w-full text-token-text-primary focus-visible:outline-2 focus-visible:outline-offset-[-4px]")},m(j,S){G(j,e,S),p(e,t),p(t,r),p(t,h),p(e,d),p(e,n),p(n,u),p(u,i),p(i,o),p(o,c),p(c,E),p(E,y),p(y,m),p(E,v),p(E,I),p(I,V),p(V,L),T||(F=U(V,"click",P),T=!0)},p(j,S){l=j,S[0]&256&&s!==(s=l[8]("app.username")+"")&&ne(r,s),S[0]&128&&g!==(g=l[47].content+"")&&ne(m,g),S[0]&256&&H!==(H=l[8]("app.edit"))&&a(L,"alt",H),S[0]&256&&C!==(C=l[8]("app.edit"))&&a(V,"data-tooltip",C)},d(j){j&&_(e),T=!1,F()}}}function Gt(l){let e,t,s,r,h=l[8]("app.cancel")+"",d,n,u,i=l[8]("app.submit")+"",o,c,E,y;function g(){return l[28](l[49])}return{c(){e=b("textarea"),t=q(),s=b("div"),r=b("button"),d=ie(h),n=q(),u=b("button"),o=ie(i),this.h()},l(m){e=k(m,"TEXTAREA",{class:!0,style:!0}),D(e).forEach(_),t=K(m),s=k(m,"DIV",{class:!0});var v=D(s);r=k(v,"BUTTON",{class:!0});var I=D(r);d=oe(I,h),I.forEach(_),n=K(v),u=k(v,"BUTTON",{class:!0});var V=D(u);o=oe(V,i),V.forEach(_),v.forEach(_),this.h()},h(){a(e,"class","w-full message-edit-textarea mt-2 bg-secondary p-2 mx-2 border-2 border-themegreyborder resize-none focus:outline-2 focus:outline-themegreen shadow rounded-lg transition-all duration-200 ease-in-out"),e.autofocus=!0,fe(e,"height","6.5rem"),fe(e,"overflow-y","auto"),a(r,"class","cancel-edit border-2 border-themegreyborder bg-themegreyhover hover:bg-secondary rounded-lg px-3 py-1 mr-2"),a(u,"class",c="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white")),u.disabled=l[10],a(s,"class","flex place-content-center mt-4")},m(m,v){G(m,e,v),l[25](e),ve(e,l[6]),G(m,t,v),G(m,s,v),p(s,r),p(r,d),p(s,n),p(s,u),p(u,o),e.focus(),E||(y=[U(e,"input",l[26]),U(e,"input",Ye),U(r,"click",l[27]),U(u,"click",g)],E=!0)},p(m,v){l=m,v[0]&64&&ve(e,l[6]),v[0]&256&&h!==(h=l[8]("app.cancel")+"")&&ne(d,h),v[0]&256&&i!==(i=l[8]("app.submit")+"")&&ne(o,i),v[0]&1024&&c!==(c="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white"))&&a(u,"class",c),v[0]&1024&&(u.disabled=l[10])},d(m){m&&(_(e),_(t),_(s)),l[25](null),E=!1,Ce(y)}}}function ze(l){let e,t,s,r,h,d,n,u,i,o,c,E,y,g,m,v,I,V,L,H,N,C,T,F,P,j,S,B,A,w,M,z,Z;function Q(){return l[20](l[47])}function ee(){return l[21](l[49])}function Y(){return l[22](l[49])}function te(){return l[23](l[49])}function we(){return l[24](l[49])}return{c(){e=b("div"),t=b("div"),s=b("button"),r=b("img"),u=q(),i=b("button"),o=b("img"),g=q(),m=b("button"),v=b("img"),H=q(),N=b("button"),C=b("img"),j=q(),S=b("button"),B=b("img"),this.h()},l(le){e=k(le,"DIV",{class:!0});var O=D(e);t=k(O,"DIV",{class:!0});var J=D(t);s=k(J,"BUTTON",{class:!0,"data-tooltip":!0});var pe=D(s);r=k(pe,"IMG",{class:!0,alt:!0,src:!0}),pe.forEach(_),u=K(J),i=k(J,"BUTTON",{class:!0,"data-tooltip":!0});var _e=D(i);o=k(_e,"IMG",{class:!0,alt:!0,src:!0}),_e.forEach(_),g=K(J),m=k(J,"BUTTON",{class:!0,"data-tooltip":!0});var ye=D(m);v=k(ye,"IMG",{class:!0,alt:!0,src:!0}),ye.forEach(_),H=K(J),N=k(J,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ie=D(N);C=k(Ie,"IMG",{alt:!0,src:!0,class:!0}),Ie.forEach(_),j=K(J),S=k(J,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ee=D(S);B=k(Ee,"IMG",{alt:!0,src:!0,class:!0}),Ee.forEach(_),J.forEach(_),O.forEach(_),this.h()},h(){a(r,"class","copy-icon"),a(r,"alt",h=l[8]("app.copy")),W(r.src,d=St)||a(r,"src",d),a(s,"class","btn-custom copyButton"),a(s,"data-tooltip",n=l[8]("app.copy")),a(o,"class",""),a(o,"alt",c=l[8]("app.retry")),W(o.src,E=Vt)||a(o,"src",E),a(i,"class","btn-custom"),a(i,"data-tooltip",y=l[8]("app.retry")),a(v,"class","delete-icon"),a(v,"alt",I=l[8]("app.delete")),W(v.src,V=Lt)||a(v,"src",V),a(m,"class","deleteButton btn-custom"),a(m,"data-tooltip",L=l[8]("app.delete")),a(C,"alt","like"),W(C.src,T=l[47].isLiked?Pe:Ue)||a(C,"src",T),a(C,"class",F=l[47].isLiked?"small-rotate-animation":""),a(N,"id","likeBtn"),a(N,"class","btn-custom"),a(N,"data-tooltip",P=l[8]("app.like")),a(B,"alt","dislike"),W(B.src,A=l[47].isDisliked?Ge:je)||a(B,"src",A),a(B,"class",w=l[47].isDisliked?"small-rotate-animation":""),a(S,"id","dislikeBtn"),a(S,"class","btn-custom"),a(S,"data-tooltip",M=l[8]("app.dislike")),a(t,"class","flex justify-start rounded-xl items-center"),a(e,"class","toolbelt flex gap-3 empty:hidden -ml-2")},m(le,O){G(le,e,O),p(e,t),p(t,s),p(s,r),p(t,u),p(t,i),p(i,o),p(t,g),p(t,m),p(m,v),p(t,H),p(t,N),p(N,C),p(t,j),p(t,S),p(S,B),z||(Z=[U(s,"click",Q),U(i,"click",ee),U(m,"click",Y),U(N,"click",te),U(S,"click",we)],z=!0)},p(le,O){l=le,O[0]&256&&h!==(h=l[8]("app.copy"))&&a(r,"alt",h),O[0]&256&&n!==(n=l[8]("app.copy"))&&a(s,"data-tooltip",n),O[0]&256&&c!==(c=l[8]("app.retry"))&&a(o,"alt",c),O[0]&256&&y!==(y=l[8]("app.retry"))&&a(i,"data-tooltip",y),O[0]&256&&I!==(I=l[8]("app.delete"))&&a(v,"alt",I),O[0]&256&&L!==(L=l[8]("app.delete"))&&a(m,"data-tooltip",L),O[0]&128&&!W(C.src,T=l[47].isLiked?Pe:Ue)&&a(C,"src",T),O[0]&128&&F!==(F=l[47].isLiked?"small-rotate-animation":"")&&a(C,"class",F),O[0]&256&&P!==(P=l[8]("app.like"))&&a(N,"data-tooltip",P),O[0]&128&&!W(B.src,A=l[47].isDisliked?Ge:je)&&a(B,"src",A),O[0]&128&&w!==(w=l[47].isDisliked?"small-rotate-animation":"")&&a(B,"class",w),O[0]&256&&M!==(M=l[8]("app.dislike"))&&a(S,"data-tooltip",M)},d(le){le&&_(e),z=!1,Ce(Z)}}}function Fe(l){let e,t,s,r;const h=[Ot,Nt],d=[];function n(u,i){return u[47].role==="assistant"?0:u[47].role==="user"?1:-1}return~(e=n(l))&&(t=d[e]=h[e](l)),{c(){t&&t.c(),s=de()},l(u){t&&t.l(u),s=de()},m(u,i){~e&&d[e].m(u,i),G(u,s,i),r=!0},p(u,i){let o=e;e=n(u),e===o?~e&&d[e].p(u,i):(t&&(ke(),$(d[o],1,1,()=>{d[o]=null}),be()),~e?(t=d[e],t?t.p(u,i):(t=d[e]=h[e](u),t.c()),X(t,1),t.m(s.parentNode,s)):t=null)},i(u){r||(X(t),r=!0)},o(u){$(t),r=!1},d(u){u&&_(s),~e&&d[e].d(u)}}}function jt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,t=l[0]?Re:Ne)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){G(s,e,r)},p(s,r){r[0]&1&&!W(e.src,t=s[0]?Re:Ne)&&a(e,"src",t)},d(s){s&&_(e)}}}function Rt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,t=Dt)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){G(s,e,r)},p:ce,d(s){s&&_(e)}}}function qt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,t=Mt)||a(e,"src",t),a(e,"alt","wait"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){G(s,e,r)},p:ce,d(s){s&&_(e)}}}function Kt(l){let e,t=l[8]("app.title")+"",s,r,h,d,n,u,i,o,c,E,y,g,m,v,I,V,L,H,N,C,T=l[9]&&Ke();const F=[Ht,At],P=[];function j(w,M){return w[7].length>0?0:1}i=j(l),o=P[i]=F[i](l);function S(w,M){return M[0]&2&&(V=null),w[10]?qt:(V==null&&(V=w[1].trim().length===0),V?Rt:jt)}let B=S(l,[-1,-1]),A=B(l);return{c(){e=b("title"),s=ie(t),r=q(),T&&T.c(),h=q(),d=b("main"),n=b("div"),u=b("div"),o.c(),c=q(),E=b("div"),y=b("div"),g=b("textarea"),v=q(),I=b("button"),A.c(),this.h()},l(w){e=k(w,"TITLE",{});var M=D(e);s=oe(M,t),M.forEach(_),r=K(w),T&&T.l(w),h=K(w),d=k(w,"MAIN",{class:!0});var z=D(d);n=k(z,"DIV",{class:!0});var Z=D(n);u=k(Z,"DIV",{class:!0});var Q=D(u);o.l(Q),Q.forEach(_),c=K(Z),E=k(Z,"DIV",{class:!0});var ee=D(E);y=k(ee,"DIV",{class:!0});var Y=D(y);g=k(Y,"TEXTAREA",{class:!0,placeholder:!0,rows:!0,style:!0}),D(g).forEach(_),v=K(Y),I=k(Y,"BUTTON",{class:!0});var te=D(I);A.l(te),te.forEach(_),Y.forEach(_),ee.forEach(_),Z.forEach(_),z.forEach(_),this.h()},h(){a(u,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow pb-10"),a(g,"class","bg-transparent min-h-[2.5rem] flex-1 mr-2 border-0 resize-none border-none focus:outline-none"),a(g,"placeholder",m=l[8]("app.textareaPlaceholder")),g.autofocus=!0,a(g,"rows","1"),fe(g,"overflow-y","auto"),fe(g,"overflow","visible",1),fe(g,"line-height","1.2rem"),fe(g,"min-height","1.5rem"),a(I,"class","cursor-pointer hover:themegray transition-colors"),I.disabled=L=!l[10]&&!l[1].trim().length,a(y,"class","inputbox w-full flex items-end mt-auto mx-auto py-[0.5rem] relative"),a(E,"class","inputbox-container w-full px-3 flex justify-center items-center round-[1.25rem] bg-[#f4f4f4]"),a(n,"class","h-screen flex justify-stretch flex-col text-black/80 height-manager"),a(d,"class","bg-primary overflow-hidden fixed w-full")},m(w,M){G(w,e,M),p(e,s),G(w,r,M),T&&T.m(w,M),G(w,h,M),G(w,d,M),p(d,n),p(n,u),P[i].m(u,null),l[30](u),p(n,c),p(n,E),p(E,y),p(y,g),l[31](g),ve(g,l[1]),p(y,v),p(y,I),A.m(I,null),H=!0,g.focus(),N||(C=[U(g,"input",l[32]),U(g,"input",zt),U(g,"keydown",l[12]),U(I,"click",l[33]),U(I,"mouseover",l[34]),U(I,"mouseleave",l[35]),U(I,"focus",l[36]),U(I,"blur",l[37])],N=!0)},p(w,M){(!H||M[0]&256)&&t!==(t=w[8]("app.title")+"")&&ne(s,t),w[9]?T?(T.p(w,M),M[0]&512&&X(T,1)):(T=Ke(),T.c(),X(T,1),T.m(h.parentNode,h)):T&&(ke(),$(T,1,1,()=>{T=null}),be());let z=i;i=j(w),i===z?P[i].p(w,M):(ke(),$(P[z],1,1,()=>{P[z]=null}),be(),o=P[i],o?o.p(w,M):(o=P[i]=F[i](w),o.c()),X(o,1),o.m(u,null)),(!H||M[0]&256&&m!==(m=w[8]("app.textareaPlaceholder")))&&a(g,"placeholder",m),M[0]&2&&ve(g,w[1]),B===(B=S(w,M))&&A?A.p(w,M):(A.d(1),A=B(w),A&&(A.c(),A.m(I,null))),(!H||M[0]&1026&&L!==(L=!w[10]&&!w[1].trim().length))&&(I.disabled=L)},i(w){H||(X(T),X(o),H=!0)},o(w){$(T),$(o),H=!1},d(w){w&&(_(e),_(r),_(h),_(d)),T&&T.d(w),P[i].d(),l[30](null),l[31](null),A.d(),N=!1,Ce(C)}}}const Ze=300;function Ye(l){l.target.style.height="inherit";const e=window.getComputedStyle(l.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+l.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10),s=Math.min(t,Ze);l.target.style.height=`${s}px`,s>=Ze&&(l.target.scrollTop=l.target.scrollHeight)}function zt(l){Ye(l)}function Ft(){}function Zt(l,e,t){let s,r,h,d;ge(l,ae,f=>t(7,s=f)),ge(l,ct,f=>t(8,r=f)),ge(l,ut,f=>t(9,h=f)),ge(l,ft,f=>t(10,d=f));const n={code:dt,em:ht,list:pt,listitem:_t,paragraph:mt,html:gt};ot.setOptions({highlight(f,R){return Se.getLanguage(R)?Se.highlight(R,f).value:Se.highlightAuto(f).value},langPrefix:"hljs language-"});let u=!1,i,o="",c,E,y,g=null,m="",v=null,I=!1;function V(){if(!y)return;const f={childList:!0,subtree:!0,characterData:!0};v=new MutationObserver((R,x)=>{L()}),v.observe(y,f)}et(async()=>{await vt(),I=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),V(),i=new URLSearchParams(window.location.search).get("aisearch_q"),i&&(t(1,o=i),C()),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".message-display h1, .message-display h2, .message-display h3, .message-display h4, .message-display h5, .message-display h6").forEach(he=>{const me=he.textContent+"...";he.setAttribute("data-text",me)})});let R=localStorage.getItem("sendkey")||"Enter",x=localStorage.getItem("linebreakkey")||"Shift+Enter",De=[];Ve.set(R),Ve.subscribe(se=>{localStorage.setItem("sendkey",se)}),Le.set(x),Le.subscribe(se=>{localStorage.setItem("linebreakkey",se)}),ae.set(De),ae.subscribe(se=>{localStorage.setItem("search_messages",JSON.stringify(se))});const Me=localStorage.getItem("locale")||bt()||"en";Be.set(Me),Be.subscribe(se=>{localStorage.setItem("locale",se)})}),tt(()=>{v&&(v.disconnect(),v=null),kt()});function L(){y&&y.scrollHeight-y.scrollTop-150<=y.clientHeight&&t(4,y.scrollTop=y.scrollHeight,y)}const H={Enter:"001","Shift+Enter":"011","Ctrl+Enter":"101"};function N(f){let R=parseInt(H[ue(Ve)],2),x=parseInt(H[ue(Le)],2),De=parseInt(f.key==="Enter"?"001":"000",2),Me=parseInt(f.shiftKey?"010":"000",2),he=parseInt(f.ctrlKey?"100":"000",2)|Me|De;if(!(R^he)&&!I&&(f.preventDefault(),C()),!(x^he)||f.key==="Enter"&&I){f.preventDefault();const re=this,me=re.selectionStart,xe=re.selectionEnd;re.value=re.value.substring(0,me)+`
`+re.value.substring(xe),re.selectionStart=re.selectionEnd=me+1}}function C(){wt(o),t(1,o=""),t(2,c.style.height="1.5rem",c),t(2,c.style.lineHight="1.2rem",c)}function T(){y&&t(4,y.scrollTop=y.scrollHeight,y)}let F=0;lt(()=>{const f=s.length||0;f>F&&T(),F=f});function P(f){t(5,g=f),t(6,m=ue(ae)[f].content)}function j(f){Ae(ue(ae)[f-1].content,f)}function S(){t(5,g=null),t(6,m=""),t(3,E.style.height="96px",E)}function B(f){Ae(m,f+1),S()}function A(f){let R=s[f];R.isLiked=!0,R.isDisliked=!1;let x=ue(ae);x[f]=R,ae.set(x)}function w(f){let R=s[f];R.isLiked=!1,R.isDisliked=!0;let x=ue(ae);x[f]=R,ae.set(x)}const M=f=>yt(f.content),z=f=>j(f),Z=f=>It(f),Q=f=>A(f),ee=f=>w(f);function Y(f){Te[f?"unshift":"push"](()=>{E=f,t(3,E)})}function te(){m=this.value,t(6,m)}const we=()=>S(),le=f=>B(f),O=f=>P(f);function J(f){Te[f?"unshift":"push"](()=>{y=f,t(4,y)})}function pe(f){Te[f?"unshift":"push"](()=>{c=f,t(2,c)})}function _e(){o=this.value,t(1,o)}return[u,o,c,E,y,g,m,s,r,h,d,n,N,C,P,j,S,B,A,w,M,z,Z,Q,ee,Y,te,we,le,O,J,pe,_e,()=>{d?Et():C()},()=>t(0,u=!0),()=>t(0,u=!1),()=>t(0,u=!0),()=>t(0,u=!1)]}class xt extends rt{constructor(e){super(),it(this,e,Zt,Kt,$e,{},null,[-1,-1])}}export{xt as component};
