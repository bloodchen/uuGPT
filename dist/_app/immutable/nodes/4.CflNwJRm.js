import{a as vt,e as g,b as x,t as he,D as ye,E as bt,c as v,F as qe,g as n,h as U,d as k,f as pe,G as Ee,H as ae,y as a,z as Te,k as o,j as z,I as Be,J as Z,l as be,r as ze,m as Ae,x as kt,K as wt,w as yt,n as we,L as Ie,A as Ue,M as Et,v as Me}from"../chunks/scheduler.RqOYCh70.js";import{S as It,i as Tt,t as ne,a as fe,c as Ne,b as ht,d as pt,m as mt,e as _t,g as Pe}from"../chunks/index.Cz65sQbK.js";import{m as Mt,H as Ge,S as Dt,a as ve,$ as Ct,s as Qe,i as St,C as Lt,E as Vt,L as Ht,b as At,P as Bt,c as Nt,d as Pt,e as je,l as Re,g as Ot,f as Ye,h as xt,j as Ut,k as Gt,n as $e,o as jt,p as Rt,q as et,r as tt,t as Zt,W as qt,u as zt,v as lt,w as Kt,R as Jt,D as Wt,x as at,y as st,z as rt,A as ot,B as Ft,F as Xt}from"../chunks/remapping.umd.BATLIh4U.js";const Qt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,nt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%3e%3cg%20id='sendmessage-hover'%20transform='translate(-1344%20-675)'%3e%3ccircle%20id='椭圆_1'%20data-name='椭圆%201'%20cx='18'%20cy='18'%20r='18'%20transform='translate(1344%20675)'%20fill='%234a928c'/%3e%3cpath%20id='路径_4063'%20data-name='路径%204063'%20d='M98.306,132.757l-14.225,2.384a.206.206,0,0,0-.123.337l1.765,2.064a.413.413,0,0,0,.462.117l12.175-4.705a.1.1,0,1,0-.054-.2ZM95.646,147.9l5.8-14.335a.206.206,0,0,0-.271-.268l-13.512,5.634a.309.309,0,0,0-.11.494l7.746,8.536a.206.206,0,0,0,.344-.061Zm-8.535-.093a1.454,1.454,0,0,1-.877.11.989.989,0,0,1-.836-1.153l-.408-7.478-2.1-2.506a2.03,2.03,0,0,1,1.236-3.407l16.715-2.279a2.034,2.034,0,0,1,2.1,2.885L97.283,148.5a2.048,2.048,0,0,1-3.336.522l-3.711-4.085q-.031.022-3.125,2.861ZM86.6,141.25l.248,4.3a.206.206,0,0,0,.351.135l1.718-1.7a.413.413,0,0,0,.023-.561l-1.977-2.31a.206.206,0,0,0-.363.146Z'%20transform='translate(1250.628%20567.078)%20rotate(-8)'%20fill='%23fff'/%3e%3crect%20id='矩形_3684'%20data-name='矩形%203684'%20width='36'%20height='36'%20transform='translate(1344%20675)'%20fill='none'/%3e%3crect%20id='矩形_3685'%20data-name='矩形%203685'%20width='36'%20height='36'%20rx='6'%20transform='translate(1344%20675)'%20fill='none'/%3e%3c/g%3e%3c/svg%3e",{document:Ze}=Qt;function it(t,e,l){const s=t.slice();return s[49]=e[l],s[51]=l,s}function ct(t){let e,l;return e=new Dt({}),e.$on("settings-changed",ul),{c(){ht(e.$$.fragment)},l(s){pt(e.$$.fragment,s)},m(s,r){mt(e,s,r),l=!0},p:we,i(s){l||(ne(e.$$.fragment,s),l=!0)},o(s){fe(e.$$.fragment,s),l=!1},d(s){_t(e,s)}}}function Yt(t){let e,l,s=t[8]("app.noConversation")+"",r;return{c(){e=g("div"),l=g("p"),r=he(s),this.h()},l(b){e=v(b,"DIV",{class:!0});var _=k(e);l=v(_,"P",{});var f=k(l);r=pe(f,s),f.forEach(n),_.forEach(n),this.h()},h(){a(e,"class","flex justify-center items-center h-full")},m(b,_){z(b,e,_),o(e,l),o(l,r)},p(b,_){_[0]&256&&s!==(s=b[8]("app.noConversation")+"")&&be(r,s)},i:we,o:we,d(b){b&&n(e)}}}function $t(t){let e,l,s,r,b,_=et(t[7]),f=[];for(let c=0;c<_.length;c+=1)f[c]=dt(it(t,_,c));const m=c=>fe(f[c],1,1,()=>{f[c]=null});return{c(){e=g("div"),l=g("div");for(let c=0;c<f.length;c+=1)f[c].c();s=x(),r=g("div"),this.h()},l(c){e=v(c,"DIV",{class:!0});var h=k(e);l=v(h,"DIV",{class:!0});var u=k(l);for(let I=0;I<f.length;I+=1)f[I].l(u);s=U(u),r=v(u,"DIV",{class:!0}),k(r).forEach(n),u.forEach(n),h.forEach(n),this.h()},h(){a(r,"class","tailblock h-10 w-full"),a(l,"class","w-full"),a(e,"class","flex grow max-w-full px-2")},m(c,h){z(c,e,h),o(e,l);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(l,null);o(l,s),o(l,r),b=!0},p(c,h){if(h[0]&2084328){_=et(c[7]);let u;for(u=0;u<_.length;u+=1){const I=it(c,_,u);f[u]?(f[u].p(I,h),ne(f[u],1)):(f[u]=dt(I),f[u].c(),ne(f[u],1),f[u].m(l,s))}for(Pe(),u=_.length;u<f.length;u+=1)m(u);Ne()}},i(c){if(!b){for(let h=0;h<_.length;h+=1)ne(f[h]);b=!0}},o(c){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)fe(f[h]);b=!1},d(c){c&&n(e),Et(f,c)}}}function el(t){let e,l=t[51]!==0&&ll(t);return{c(){l&&l.c(),e=Me()},l(s){l&&l.l(s),e=Me()},m(s,r){l&&l.m(s,r),z(s,e,r)},p(s,r){s[51]!==0&&l.p(s,r)},i:we,o:we,d(s){s&&n(e),l&&l.d(s)}}}function tl(t){let e,l,s,r=`<img src="${Ft}" alt="Profile" class="w-[1.5rem] h-[1.5rem]"/>`,b,_,f=t[8]("app.assistantname")+"",m,c,h,u,I,w;u=new zt({props:{renderers:t[11],source:lt(t[49].content.toString())}});let E=t[10]===!1&&ut(t);return{c(){e=g("div"),l=g("div"),s=g("div"),s.innerHTML=r,b=x(),_=g("div"),m=he(f),c=x(),h=g("div"),ht(u.$$.fragment),I=x(),E&&E.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var p=k(e);l=v(p,"DIV",{class:!0});var D=k(l);s=v(D,"DIV",{"data-svelte-h":!0}),qe(s)!=="svelte-9ctnqd"&&(s.innerHTML=r),b=U(D),_=v(D,"DIV",{class:!0});var L=k(_);m=pe(L,f),L.forEach(n),D.forEach(n),c=U(p),h=v(p,"DIV",{class:!0});var V=k(h);pt(u.$$.fragment,V),V.forEach(n),I=U(p),E&&E.l(p),p.forEach(n),this.h()},h(){a(_,"class","relative ml-2 font-bold"),a(l,"class","profile-picture flex align-middle"),a(h,"class","message-display mt-2 transition-all duration-200 ease-in-out"),a(e,"class","message relative inline-block bg-primary mt-0 flex flex-col transition-all duration-200 ease-in-out")},m(d,p){z(d,e,p),o(e,l),o(l,s),o(l,b),o(l,_),o(_,m),o(e,c),o(e,h),mt(u,h,null),o(e,I),E&&E.m(e,null),w=!0},p(d,p){(!w||p[0]&256)&&f!==(f=d[8]("app.assistantname")+"")&&be(m,f);const D={};p[0]&128&&(D.source=lt(d[49].content.toString())),u.$set(D),d[10]===!1?E?E.p(d,p):(E=ut(d),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},i(d){w||(ne(u.$$.fragment,d),w=!0)},o(d){fe(u.$$.fragment,d),w=!1},d(d){d&&n(e),_t(u),E&&E.d()}}}function ll(t){let e;function l(b,_){return b[5]===b[51]?sl:al}let s=l(t),r=s(t);return{c(){r.c(),e=Me()},l(b){r.l(b),e=Me()},m(b,_){r.m(b,_),z(b,e,_)},p(b,_){s===(s=l(b))&&r?r.p(b,_):(r.d(1),r=s(b),r&&(r.c(),r.m(e.parentNode,e)))},d(b){b&&n(e),r.d(b)}}}function al(t){let e,l,s=t[8]("app.username")+"",r,b,_,f,m,c,h,u,I,w,E=t[49].content+"",d,p,D,L,V,P,N,H,W,F;function Y(){return t[31](t[51])}return{c(){e=g("div"),l=g("h5"),r=he(s),b=he(":"),_=x(),f=g("div"),m=g("div"),c=g("div"),h=g("div"),u=g("div"),I=g("div"),w=g("div"),d=he(E),p=x(),D=g("div"),L=g("button"),V=g("img"),this.h()},l(K){e=v(K,"DIV",{class:!0});var M=k(e);l=v(M,"H5",{class:!0});var C=k(l);r=pe(C,s),b=pe(C,":"),C.forEach(n),_=U(M),f=v(M,"DIV",{class:!0});var G=k(f);m=v(G,"DIV",{class:!0});var j=k(m);c=v(j,"DIV",{class:!0});var R=k(c);h=v(R,"DIV",{class:!0});var se=k(h);u=v(se,"DIV",{class:!0});var te=k(u);I=v(te,"DIV",{class:!0});var $=k(I);w=v($,"DIV",{class:!0});var ie=k(w);d=pe(ie,E),ie.forEach(n),p=U($),D=v($,"DIV",{class:!0});var de=k(D);L=v(de,"BUTTON",{"data-tooltip":!0,class:!0});var le=k(L);V=v(le,"IMG",{class:!0,alt:!0,src:!0}),le.forEach(n),de.forEach(n),$.forEach(n),te.forEach(n),se.forEach(n),R.forEach(n),j.forEach(n),G.forEach(n),M.forEach(n),this.h()},h(){a(l,"class","sr-only"),a(w,"class","whitespace-pre-wrap"),a(V,"class","edit-icon"),a(V,"alt",P=t[8]("app.edit")),ae(V.src,N=Xt)||a(V,"src",N),a(L,"data-tooltip",H=t[8]("app.edit")),a(L,"class","btn-custom btn-edit flex items-center justify-center text-token-text-secondary transition"),a(D,"class","absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block"),a(I,"class","group/conversation-turn relative max-w-[70%] rounded-3xl px-3 py-2 bg-[#f4f4f4] rounded-tr-lg"),a(u,"class","flex w-full flex-col gap-1 empty:hidden items-end rtl:items-start"),a(h,"class","min-h-[20px] text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),a(c,"class","flex max-w-full flex-col flex-grow"),a(m,"class","flex-col gap-1 md:gap-3"),a(f,"class","message relative flex w-full min-w-0 flex-col"),a(e,"class","w-full text-token-text-primary focus-visible:outline-2 focus-visible:outline-offset-[-4px]")},m(K,M){z(K,e,M),o(e,l),o(l,r),o(l,b),o(e,_),o(e,f),o(f,m),o(m,c),o(c,h),o(h,u),o(u,I),o(I,w),o(w,d),o(I,p),o(I,D),o(D,L),o(L,V),W||(F=Z(L,"click",Y),W=!0)},p(K,M){t=K,M[0]&256&&s!==(s=t[8]("app.username")+"")&&be(r,s),M[0]&128&&E!==(E=t[49].content+"")&&be(d,E),M[0]&256&&P!==(P=t[8]("app.edit"))&&a(V,"alt",P),M[0]&256&&H!==(H=t[8]("app.edit"))&&a(L,"data-tooltip",H)},d(K){K&&n(e),W=!1,F()}}}function sl(t){let e,l,s,r,b=t[8]("app.cancel")+"",_,f,m,c=t[8]("app.submit")+"",h,u,I,w;function E(){return t[30](t[51])}return{c(){e=g("textarea"),l=x(),s=g("div"),r=g("button"),_=he(b),f=x(),m=g("button"),h=he(c),this.h()},l(d){e=v(d,"TEXTAREA",{class:!0,style:!0}),k(e).forEach(n),l=U(d),s=v(d,"DIV",{class:!0});var p=k(s);r=v(p,"BUTTON",{class:!0});var D=k(r);_=pe(D,b),D.forEach(n),f=U(p),m=v(p,"BUTTON",{class:!0});var L=k(m);h=pe(L,c),L.forEach(n),p.forEach(n),this.h()},h(){a(e,"class","w-full message-edit-textarea mt-2 bg-secondary p-2 mx-2 border-2 border-themegreyborder resize-none focus:outline-2 focus:outline-themegreen shadow rounded-lg transition-all duration-200 ease-in-out"),e.autofocus=!0,Te(e,"height","6.5rem"),Te(e,"overflow-y","auto"),a(r,"class","cancel-edit border-2 border-themegreyborder bg-themegreyhover hover:bg-secondary rounded-lg px-3 py-1 mr-2"),a(m,"class",u="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(t[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white")),m.disabled=t[10],a(s,"class","flex place-content-center mt-4")},m(d,p){z(d,e,p),t[27](e),Be(e,t[6]),z(d,l,p),z(d,s,p),o(s,r),o(r,_),o(s,f),o(s,m),o(m,h),e.focus(),I||(w=[Z(e,"input",t[28]),Z(e,"input",gt),Z(r,"click",t[29]),Z(m,"click",E)],I=!0)},p(d,p){t=d,p[0]&64&&Be(e,t[6]),p[0]&256&&b!==(b=t[8]("app.cancel")+"")&&be(_,b),p[0]&256&&c!==(c=t[8]("app.submit")+"")&&be(h,c),p[0]&1024&&u!==(u="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(t[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white"))&&a(m,"class",u),p[0]&1024&&(m.disabled=t[10])},d(d){d&&(n(e),n(l),n(s)),t[27](null),I=!1,ze(w)}}}function ut(t){let e,l,s,r,b,_,f,m,c,h,u,I,w,E,d,p,D,L,V,P,N,H,W,F,Y,K,M,C,G,j,R,se,te;function $(){return t[22](t[49],t[51])}function ie(){return t[23](t[51])}function de(){return t[24](t[51])}function le(){return t[25](t[51])}function re(){return t[26](t[51])}return{c(){e=g("div"),l=g("div"),s=g("button"),r=g("img"),m=x(),c=g("button"),h=g("img"),E=x(),d=g("button"),p=g("img"),P=x(),N=g("button"),H=g("img"),K=x(),M=g("button"),C=g("img"),this.h()},l(S){e=v(S,"DIV",{class:!0});var A=k(e);l=v(A,"DIV",{class:!0});var X=k(l);s=v(X,"BUTTON",{class:!0,"data-tooltip":!0});var q=k(s);r=v(q,"IMG",{alt:!0,src:!0,class:!0}),q.forEach(n),m=U(X),c=v(X,"BUTTON",{class:!0,"data-tooltip":!0});var me=k(c);h=v(me,"IMG",{class:!0,alt:!0,src:!0}),me.forEach(n),E=U(X),d=v(X,"BUTTON",{class:!0,"data-tooltip":!0});var _e=k(d);p=v(_e,"IMG",{class:!0,alt:!0,src:!0}),_e.forEach(n),P=U(X),N=v(X,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var ee=k(N);H=v(ee,"IMG",{alt:!0,src:!0,class:!0}),ee.forEach(n),K=U(X),M=v(X,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var ke=k(M);C=v(ke,"IMG",{alt:!0,src:!0,class:!0}),ke.forEach(n),X.forEach(n),A.forEach(n),this.h()},h(){a(r,"alt",b=t[8]("app.copy")),ae(r.src,_=Kt)||a(r,"src",_),a(r,"class","copy-icon copyAnime"+t[51]),a(s,"class","btn-custom copyButton"),a(s,"data-tooltip",f=t[8]("app.copy")),a(h,"class",""),a(h,"alt",u=t[8]("app.retry")),ae(h.src,I=Jt)||a(h,"src",I),a(c,"class","btn-custom"),a(c,"data-tooltip",w=t[8]("app.retry")),a(p,"class","delete-icon"),a(p,"alt",D=t[8]("app.delete")),ae(p.src,L=Wt)||a(p,"src",L),a(d,"class","deleteButton btn-custom"),a(d,"data-tooltip",V=t[8]("app.delete")),a(H,"alt","like"),ae(H.src,W=t[49].isLiked?at:st)||a(H,"src",W),a(H,"class",F=t[49].isLiked?"small-rotate-animation":""),a(N,"id","likeBtn"),a(N,"class","btn-custom"),a(N,"data-tooltip",Y=t[8]("app.like")),a(C,"alt","dislike"),ae(C.src,G=t[49].isDisliked?rt:ot)||a(C,"src",G),a(C,"class",j=t[49].isDisliked?"small-rotate-animation":""),a(M,"id","dislikeBtn"),a(M,"class","btn-custom"),a(M,"data-tooltip",R=t[8]("app.dislike")),a(l,"class","flex justify-start rounded-xl items-center"),a(e,"class","toolbelt flex gap-3 empty:hidden -ml-2")},m(S,A){z(S,e,A),o(e,l),o(l,s),o(s,r),o(l,m),o(l,c),o(c,h),o(l,E),o(l,d),o(d,p),o(l,P),o(l,N),o(N,H),o(l,K),o(l,M),o(M,C),se||(te=[Z(s,"click",$),Z(c,"click",ie),Z(d,"click",de),Z(N,"click",le),Z(M,"click",re)],se=!0)},p(S,A){t=S,A[0]&256&&b!==(b=t[8]("app.copy"))&&a(r,"alt",b),A[0]&256&&f!==(f=t[8]("app.copy"))&&a(s,"data-tooltip",f),A[0]&256&&u!==(u=t[8]("app.retry"))&&a(h,"alt",u),A[0]&256&&w!==(w=t[8]("app.retry"))&&a(c,"data-tooltip",w),A[0]&256&&D!==(D=t[8]("app.delete"))&&a(p,"alt",D),A[0]&256&&V!==(V=t[8]("app.delete"))&&a(d,"data-tooltip",V),A[0]&128&&!ae(H.src,W=t[49].isLiked?at:st)&&a(H,"src",W),A[0]&128&&F!==(F=t[49].isLiked?"small-rotate-animation":"")&&a(H,"class",F),A[0]&256&&Y!==(Y=t[8]("app.like"))&&a(N,"data-tooltip",Y),A[0]&128&&!ae(C.src,G=t[49].isDisliked?rt:ot)&&a(C,"src",G),A[0]&128&&j!==(j=t[49].isDisliked?"small-rotate-animation":"")&&a(C,"class",j),A[0]&256&&R!==(R=t[8]("app.dislike"))&&a(M,"data-tooltip",R)},d(S){S&&n(e),se=!1,ze(te)}}}function dt(t){let e,l,s,r;const b=[tl,el],_=[];function f(m,c){return m[49].role==="assistant"?0:m[49].role==="user"?1:-1}return~(e=f(t))&&(l=_[e]=b[e](t)),{c(){l&&l.c(),s=Me()},l(m){l&&l.l(m),s=Me()},m(m,c){~e&&_[e].m(m,c),z(m,s,c),r=!0},p(m,c){let h=e;e=f(m),e===h?~e&&_[e].p(m,c):(l&&(Pe(),fe(_[h],1,1,()=>{_[h]=null}),Ne()),~e?(l=_[e],l?l.p(m,c):(l=_[e]=b[e](m),l.c()),ne(l,1),l.m(s.parentNode,s)):l=null)},i(m){r||(ne(l),r=!0)},o(m){fe(l),r=!1},d(m){m&&n(s),~e&&_[e].d(m)}}}function rl(t){let e,l;return{c(){e=g("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ae(e.src,l=t[0]?nt:tt)||a(e,"src",l),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){z(s,e,r)},p(s,r){r[0]&1&&!ae(e.src,l=s[0]?nt:tt)&&a(e,"src",l)},d(s){s&&n(e)}}}function ol(t){let e,l;return{c(){e=g("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ae(e.src,l=Zt)||a(e,"src",l),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){z(s,e,r)},p:we,d(s){s&&n(e)}}}function nl(t){let e,l;return{c(){e=g("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ae(e.src,l=qt)||a(e,"src",l),a(e,"alt","wait"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){z(s,e,r)},p:we,d(s){s&&n(e)}}}function il(t){let e,l="",s,r,b=`window.dataLayer = window.dataLayer || [];\r
    function gtag(){dataLayer.push(arguments);}\r
    gtag('js', new Date());\r
\r
    gtag('config', 'G-4JCE4T7WCH');`,_,f,m=t[8]("app.title")+"",c,h,u,I,w,E,d,p,D,L,V,P,N,H,W,F=t[8]("app.feedback")+"",Y,K,M,C,G,j,R,se,te,$=t[8]("topbar.setting")+"",ie,de,le,re,S,A,X,q,me,_e,ee,ke,Oe,O=t[9]&&ct();const xe=[$t,Yt],ge=[];function i(y,T){return y[7].length>0?0:1}d=i(t),p=ge[d]=xe[d](t);function B(y,T){return T[0]&2&&(me=null),y[10]?nl:(me==null&&(me=y[1].trim().length===0),me?ol:rl)}let J=B(t,[-1,-1]),Q=J(t);return{c(){e=g("script"),e.innerHTML=l,r=g("script"),r.textContent=b,_=x(),f=g("title"),c=he(m),h=x(),O&&O.c(),u=x(),I=g("main"),w=g("div"),E=g("div"),p.c(),D=x(),L=g("div"),V=g("button"),P=ye("svg"),N=ye("path"),H=x(),W=g("span"),Y=he(F),K=x(),M=g("button"),C=ye("svg"),G=ye("path"),j=ye("path"),R=ye("path"),se=x(),te=g("span"),ie=he($),de=x(),le=g("div"),re=g("div"),S=g("textarea"),X=x(),q=g("button"),Q.c(),this.h()},l(y){const T=bt("svelte-b4xvp3",Ze.head);e=v(T,"SCRIPT",{src:!0,"data-svelte-h":!0}),qe(e)!=="svelte-1sogdou"&&(e.innerHTML=l),r=v(T,"SCRIPT",{"data-svelte-h":!0}),qe(r)!=="svelte-1a5uab0"&&(r.textContent=b),T.forEach(n),_=U(y),f=v(y,"TITLE",{});var oe=k(f);c=pe(oe,m),oe.forEach(n),h=U(y),O&&O.l(y),u=U(y),I=v(y,"MAIN",{class:!0});var ce=k(I);w=v(ce,"DIV",{class:!0});var ue=k(w);E=v(ue,"DIV",{class:!0});var De=k(E);p.l(De),De.forEach(n),D=U(ue),L=v(ue,"DIV",{class:!0});var Ce=k(L);V=v(Ce,"BUTTON",{class:!0});var Se=k(V);P=Ee(Se,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var Ke=k(P);N=Ee(Ke,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),k(N).forEach(n),Ke.forEach(n),H=U(Se),W=v(Se,"SPAN",{});var Je=k(W);Y=pe(Je,F),Je.forEach(n),Se.forEach(n),K=U(Ce),M=v(Ce,"BUTTON",{class:!0});var Le=k(M);C=Ee(Le,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var Ve=k(C);G=Ee(Ve,"path",{id:!0,"data-name":!0,d:!0,transform:!0,fill:!0}),k(G).forEach(n),j=Ee(Ve,"path",{id:!0,"data-name":!0,d:!0,transform:!0,fill:!0}),k(j).forEach(n),R=Ee(Ve,"path",{id:!0,"data-name":!0,d:!0,transform:!0,fill:!0}),k(R).forEach(n),Ve.forEach(n),se=U(Le),te=v(Le,"SPAN",{});var We=k(te);ie=pe(We,$),We.forEach(n),Le.forEach(n),Ce.forEach(n),de=U(ue),le=v(ue,"DIV",{class:!0});var Fe=k(le);re=v(Fe,"DIV",{class:!0});var He=k(re);S=v(He,"TEXTAREA",{class:!0,placeholder:!0,rows:!0,style:!0}),k(S).forEach(n),X=U(He),q=v(He,"BUTTON",{class:!0});var Xe=k(q);Q.l(Xe),Xe.forEach(n),He.forEach(n),Fe.forEach(n),ue.forEach(n),ce.forEach(n),this.h()},h(){e.async=!0,ae(e.src,s="https://www.googletagmanager.com/gtag/js?id=G-4JCE4T7WCH")||a(e,"src",s),a(E,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow pb-10"),a(N,"fill-rule","evenodd"),a(N,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v2a1 1 0 102 0V6zm0 4a1 1 0 10-2 0v4a1 1 0 102 0v-4z"),a(N,"clip-rule","evenodd"),a(P,"class","w-5 h-5 text-blue-500 mr-1"),a(P,"fill","currentColor"),a(P,"viewBox","0 0 20 20"),a(P,"xmlns","http://www.w3.org/2000/svg"),a(V,"class","py-1 px-2 border rounded-lg text-gray-700 hover:bg-gray-100 flex items-center mr-2"),a(G,"id","路径_3870"),a(G,"data-name","路径 3870"),a(G,"d","M77.5,705.5H70.938a2,2,0,0,0-3.875,0H64.5a.5.5,0,0,0,0,1h2.563a2,2,0,0,0,3.875,0H77.5a.5.5,0,0,0,0-1ZM69,707.016A1.016,1.016,0,1,1,70.016,706,1.016,1.016,0,0,1,69,707.016Z"),a(G,"transform","translate(-64 -694)"),a(G,"fill","#4a928c"),a(j,"id","路径_3871"),a(j,"data-name","路径 3871"),a(j,"d","M77.5,385.5H74.938a2,2,0,0,0-3.875,0H64.5a.5.5,0,1,0,0,1h6.563a2,2,0,0,0,3.875,0H77.5a.5.5,0,0,0,0-1ZM73,387.016A1.016,1.016,0,1,1,74.016,386,1.016,1.016,0,0,1,73,387.016Z"),a(j,"transform","translate(-64 -379)"),a(j,"fill","#4a928c"),a(R,"id","路径_3872"),a(R,"data-name","路径 3872"),a(R,"d","M64.5,66.5h2.563a2,2,0,0,0,3.875,0H77.5a.5.5,0,0,0,0-1H70.938a2,2,0,0,0-3.875,0H64.5a.5.5,0,0,0,0,1ZM69,64.984A1.016,1.016,0,1,1,67.984,66,1.016,1.016,0,0,1,69,64.984Z"),a(R,"transform","translate(-64 -64)"),a(R,"fill","#4a928c"),a(C,"class","w-4 h-4 text-blue-500 mr-1"),a(C,"fill","currentColor"),a(C,"viewBox","0 0 14 14"),a(C,"xmlns","http://www.w3.org/2000/svg"),a(M,"class","py-1 px-2 border rounded-lg text-gray-700 hover:bg-gray-100 flex items-center"),a(L,"class","inputbox-tools w-full px-2 flex mb-2 mt-1"),a(S,"class","bg-transparent min-h-[2.5rem] flex-1 mr-2 border-0 resize-none border-none focus:outline-none"),a(S,"placeholder",A=t[8]("app.textareaPlaceholder")),S.autofocus=!0,a(S,"rows","1"),Te(S,"overflow-y","auto"),Te(S,"overflow","visible",1),Te(S,"line-height","1.2rem"),Te(S,"min-height","1.5rem"),a(q,"class","cursor-pointer hover:themegray transition-colors"),q.disabled=_e=!t[10]&&!t[1].trim().length,a(re,"class","inputbox w-full flex items-end mt-auto mx-auto py-[0.5rem] relative"),a(le,"class","inputbox-container w-full px-3 flex justify-center items-center bg-[#f4f4f4]"),a(w,"class","h-screen flex justify-stretch flex-col text-black/80 height-manager bg-primary"),a(I,"class","bg-primary overflow-hidden fixed w-full")},m(y,T){o(Ze.head,e),o(Ze.head,r),z(y,_,T),z(y,f,T),o(f,c),z(y,h,T),O&&O.m(y,T),z(y,u,T),z(y,I,T),o(I,w),o(w,E),ge[d].m(E,null),t[32](E),o(w,D),o(w,L),o(L,V),o(V,P),o(P,N),o(V,H),o(V,W),o(W,Y),o(L,K),o(L,M),o(M,C),o(C,G),o(C,j),o(C,R),o(M,se),o(M,te),o(te,ie),o(w,de),o(w,le),o(le,re),o(re,S),t[33](S),Be(S,t[1]),o(re,X),o(re,q),Q.m(q,null),ee=!0,S.focus(),ke||(Oe=[Z(V,"click",dl),Z(M,"click",t[21]),Z(S,"input",t[34]),Z(S,"input",cl),Z(S,"keydown",t[12]),Z(q,"click",t[35]),Z(q,"mouseover",t[36]),Z(q,"mouseleave",t[37]),Z(q,"focus",t[38]),Z(q,"blur",t[39])],ke=!0)},p(y,T){(!ee||T[0]&256)&&m!==(m=y[8]("app.title")+"")&&be(c,m),y[9]?O?(O.p(y,T),T[0]&512&&ne(O,1)):(O=ct(),O.c(),ne(O,1),O.m(u.parentNode,u)):O&&(Pe(),fe(O,1,1,()=>{O=null}),Ne());let oe=d;d=i(y),d===oe?ge[d].p(y,T):(Pe(),fe(ge[oe],1,1,()=>{ge[oe]=null}),Ne(),p=ge[d],p?p.p(y,T):(p=ge[d]=xe[d](y),p.c()),ne(p,1),p.m(E,null)),(!ee||T[0]&256)&&F!==(F=y[8]("app.feedback")+"")&&be(Y,F),(!ee||T[0]&256)&&$!==($=y[8]("topbar.setting")+"")&&be(ie,$),(!ee||T[0]&256&&A!==(A=y[8]("app.textareaPlaceholder")))&&a(S,"placeholder",A),T[0]&2&&Be(S,y[1]),J===(J=B(y,T))&&Q?Q.p(y,T):(Q.d(1),Q=J(y),Q&&(Q.c(),Q.m(q,null))),(!ee||T[0]&1026&&_e!==(_e=!y[10]&&!y[1].trim().length))&&(q.disabled=_e)},i(y){ee||(ne(O),ne(p),ee=!0)},o(y){fe(O),fe(p),ee=!1},d(y){y&&(n(_),n(f),n(h),n(u),n(I)),n(e),n(r),O&&O.d(y),ge[d].d(),t[32](null),t[33](null),Q.d(),ke=!1,ze(Oe)}}}const ft=300;function gt(t){t.target.style.height="inherit";const e=window.getComputedStyle(t.target),l=parseInt(e.getPropertyValue("border-top-width"),10)+t.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10),s=Math.min(l,ft);t.target.style.height=`${s}px`,s>=ft&&(t.target.scrollTop=t.target.scrollHeight)}function cl(t){gt(t)}function ul(){}function dl(){window.open("https://forms.gle/9sWKVZTnV8gf9onSA","_blank")}function fl(t,e,l){let s,r,b,_;Ae(t,ve,i=>l(7,s=i)),Ae(t,Ct,i=>l(8,r=i)),Ae(t,Qe,i=>l(9,b=i)),Ae(t,St,i=>l(10,_=i));const f={code:Lt,em:Vt,list:Ht,listitem:At,paragraph:Bt,html:Nt};Mt.setOptions({highlight(i,B){return Ge.getLanguage(B)?Ge.highlight(B,i).value:Ge.highlightAuto(i).value},langPrefix:"hljs language-"});let m=!1,c,h="",u,I,w,E=null,d="",p=null,D=!1;function L(){if(!w)return;const i={childList:!0,subtree:!0,characterData:!0};p=new MutationObserver((B,J)=>{V()}),p.observe(w,i)}kt(async()=>{await Pt(),D=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L(),window.addEventListener("message",T=>{console.log(T.data),l(1,h=T.data),H()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".message-display h1, .message-display h2, .message-display h3, .message-display h4, .message-display h5, .message-display h6").forEach(oe=>{const ue=oe.textContent+"...";oe.setAttribute("data-text",ue)})});let i=localStorage.getItem("sendkey")||"Enter",B=localStorage.getItem("linebreakkey")||"Shift+Enter",J=[];je.set(i),je.subscribe(T=>{localStorage.setItem("sendkey",T)}),Re.set(B),Re.subscribe(T=>{localStorage.setItem("linebreakkey",T)}),ve.set(J),ve.subscribe(T=>{localStorage.setItem("search_messages",JSON.stringify(T))});const Q=localStorage.getItem("locale")||Ot()||"en";Ye.set(Q),Ye.subscribe(T=>{localStorage.setItem("locale",T)}),c=new URLSearchParams(window.location.search).get("aisearch_q"),c&&(l(1,h=c),H())}),wt(()=>{p&&(p.disconnect(),p=null),xt()});function V(){w&&w.scrollHeight-w.scrollTop-150<=w.clientHeight&&l(4,w.scrollTop=w.scrollHeight,w)}const P={Enter:"001","Shift+Enter":"011","Ctrl+Enter":"101"};function N(i){let B=parseInt(P[Ie(je)],2),J=parseInt(P[Ie(Re)],2),Q=parseInt(i.key==="Enter"?"001":"000",2),y=parseInt(i.shiftKey?"010":"000",2),oe=parseInt(i.ctrlKey?"100":"000",2)|y|Q;if(!(B^oe)&&!D&&(i.preventDefault(),H()),!(J^oe)||i.key==="Enter"&&D){i.preventDefault();const ce=this,ue=ce.selectionStart,De=ce.selectionEnd;ce.value=ce.value.substring(0,ue)+`
`+ce.value.substring(De),ce.selectionStart=ce.selectionEnd=ue+1}}function H(){Ut(h),l(1,h=""),l(2,u.style.height="1.5rem",u),l(2,u.style.lineHight="1.2rem",u)}function W(){w&&l(4,w.scrollTop=w.scrollHeight,w)}function F(i,B){Gt(i.replaceAll("\\n",`
`));let J=document.getElementsByClassName("copyAnime"+B)[0];J.classList.add("small-rotate-animation"),setTimeout(()=>{J.classList.remove("small-rotate-animation")},500)}let Y=0;yt(()=>{const i=s.length||0;i>Y&&W(),Y=i});function K(i){l(5,E=i),l(6,d=Ie(ve)[i].content)}function M(i){$e(Ie(ve)[i-1].content,i)}function C(){l(5,E=null),l(6,d=""),l(3,I.style.height="96px",I)}function G(i){$e(d,i+1),C()}function j(i){let B=s[i];B.isLiked=!0,B.isDisliked=!1;let J=Ie(ve);J[i]=B,ve.set(J)}function R(i){let B=s[i];B.isLiked=!1,B.isDisliked=!0;let J=Ie(ve);J[i]=B,ve.set(J)}function se(){Qe.set(!0)}const te=(i,B)=>F(i.content,B),$=i=>M(i),ie=i=>jt(i),de=i=>j(i),le=i=>R(i);function re(i){Ue[i?"unshift":"push"](()=>{I=i,l(3,I)})}function S(){d=this.value,l(6,d)}const A=()=>C(),X=i=>G(i),q=i=>K(i);function me(i){Ue[i?"unshift":"push"](()=>{w=i,l(4,w)})}function _e(i){Ue[i?"unshift":"push"](()=>{u=i,l(2,u)})}function ee(){h=this.value,l(1,h)}return[m,h,u,I,w,E,d,s,r,b,_,f,N,H,F,K,M,C,G,j,R,se,te,$,ie,de,le,re,S,A,X,q,me,_e,ee,()=>{_?Rt():H()},()=>l(0,m=!0),()=>l(0,m=!1),()=>l(0,m=!0),()=>l(0,m=!1)]}class _l extends It{constructor(e){super(),Tt(this,e,fl,il,vt,{},null,[-1,-1])}}export{_l as component};
