import{s as F,h as v,j as I,e as P,J as H,k as y,l as Q,d as p,m as C,E as h,z as k,i as g,B as L,o as U,w as R,x as S,y as V,G as B,A as G,K as J,c as W,u as X,g as Y,a as Z}from"../chunks/MpRaoTL8.js";import{S as x,i as $,t as b,a as w,c as T,h as z,g as j}from"../chunks/BW9HPQPA.js";import{w as ee,m as A,n as D,o as M}from"../chunks/CLpZC9pY.js";import{i as te}from"../chunks/DU6T3nbK.js";import{f as N}from"../chunks/6DfLF9eH.js";const se=!0,ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:se},Symbol.toStringTag,{value:"Module"}));function K(o){let t,i,s,e,a;return{c(){t=v("div"),i=v("span"),s=R(o[2]),this.h()},l(r){t=y(r,"DIV",{class:!0,role:!0,style:!0});var n=S(t);i=y(n,"SPAN",{class:!0});var _=S(i);s=V(_,o[2]),_.forEach(p),n.forEach(p),this.h()},h(){h(i,"class","block sm:inline"),h(t,"class","z-50 fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md transition"),h(t,"role","alert"),B(t,"z-index","2000")},m(r,n){g(r,t,n),k(t,i),k(i,s),a=!0},p(r,n){(!a||n&4)&&G(s,r[2])},i(r){a||(r&&J(()=>{a&&(e||(e=z(t,N,{y:20,duration:500},!0)),e.run(1))}),a=!0)},o(r){r&&(e||(e=z(t,N,{y:20,duration:500},!1)),e.run(0)),a=!1},d(r){r&&p(t),r&&e&&e.end()}}}function O(o){let t,i,s,e,a;return{c(){t=v("div"),i=v("span"),s=R(o[2]),this.h()},l(r){t=y(r,"DIV",{class:!0,role:!0,style:!0});var n=S(t);i=y(n,"SPAN",{class:!0});var _=S(i);s=V(_,o[2]),_.forEach(p),n.forEach(p),this.h()},h(){h(i,"class","block sm:inline"),h(t,"class","z-50 fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-md"),h(t,"role","alert"),B(t,"z-index","2000")},m(r,n){g(r,t,n),k(t,i),k(i,s),a=!0},p(r,n){(!a||n&4)&&G(s,r[2])},i(r){a||(r&&J(()=>{a&&(e||(e=z(t,N,{y:20,duration:500},!0)),e.run(1))}),a=!0)},o(r){r&&(e||(e=z(t,N,{y:20,duration:500},!1)),e.run(0)),a=!1},d(r){r&&p(t),r&&e&&e.end()}}}function q(o){let t;const i=o[5].default,s=W(i,o,o[4],null);return{c(){s&&s.c()},l(e){s&&s.l(e)},m(e,a){s&&s.m(e,a),t=!0},p(e,a){s&&s.p&&(!t||a&16)&&X(s,i,e,e[4],t?Z(i,e[4],a,null):Y(e[4]),null)},i(e){t||(b(s,e),t=!0)},o(e){w(s,e),t=!1},d(e){s&&s.d(e)}}}function re(o){let t,i,s,e,a=`// 在 DOM 加载时立即监听\r
    window.addEventListener('beforeinstallprompt', (e) => {\r
      e.preventDefault();\r
      window.self_promp = e;\r
    });`,r,n,_,m,E,f=o[1]&&K(o),u=o[3]&&O(o),c=o[0]&&q(o);return{c(){t=v("link"),i=v("meta"),s=v("link"),e=v("script"),e.textContent=a,r=I(),f&&f.c(),n=I(),u&&u.c(),_=I(),c&&c.c(),m=P(),this.h()},l(l){const d=H("svelte-oqelg5",document.head);t=y(d,"LINK",{rel:!0,href:!0}),i=y(d,"META",{name:!0,content:!0}),s=y(d,"LINK",{rel:!0,href:!0,type:!0}),e=y(d,"SCRIPT",{"data-svelte-h":!0}),Q(e)!=="svelte-14rytc4"&&(e.textContent=a),d.forEach(p),r=C(l),f&&f.l(l),n=C(l),u&&u.l(l),_=C(l),c&&c.l(l),m=P(),this.h()},h(){h(t,"rel","manifest"),h(t,"href","/manifest.json?v=v1.0.2"),h(i,"name","theme-color"),h(i,"content","#e5e7eb"),h(s,"rel","icon"),h(s,"href","/favicon.ico"),h(s,"type","image/x-icon")},m(l,d){k(document.head,t),k(document.head,i),k(document.head,s),k(document.head,e),g(l,r,d),f&&f.m(l,d),g(l,n,d),u&&u.m(l,d),g(l,_,d),c&&c.m(l,d),g(l,m,d),E=!0},p(l,[d]){l[1]?f?(f.p(l,d),d&2&&b(f,1)):(f=K(l),f.c(),b(f,1),f.m(n.parentNode,n)):f&&(j(),w(f,1,1,()=>{f=null}),T()),l[3]?u?(u.p(l,d),d&8&&b(u,1)):(u=O(l),u.c(),b(u,1),u.m(_.parentNode,_)):u&&(j(),w(u,1,1,()=>{u=null}),T()),l[0]?c?(c.p(l,d),d&1&&b(c,1)):(c=q(l),c.c(),b(c,1),c.m(m.parentNode,m)):c&&(j(),w(c,1,1,()=>{c=null}),T())},i(l){E||(b(f),b(u),b(c),E=!0)},o(l){w(f),w(u),w(c),E=!1},d(l){l&&(p(r),p(n),p(_),p(m)),p(t),p(i),p(s),p(e),f&&f.d(l),u&&u.d(l),c&&c.d(l)}}}function le(o,t,i){let s,e,a;L(o,A,m=>i(1,s=m)),L(o,D,m=>i(2,e=m)),L(o,M,m=>i(3,a=m));let{$$slots:r={},$$scope:n}=t,_=!1;return U(async()=>{await te(),await ee(),i(0,_=!0)}),A.subscribe(m=>{m&&setTimeout(()=>{A.set(!1),D.set("")},5e3)}),M.subscribe(m=>{m&&setTimeout(()=>{M.set(!1),D.set("")},5e3)}),o.$$set=m=>{"$$scope"in m&&i(4,n=m.$$scope)},[_,s,e,a,n,r]}class ce extends x{constructor(t){super(),$(this,t,le,re,F,{})}}export{ce as component,ue as universal};
