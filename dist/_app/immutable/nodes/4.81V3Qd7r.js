import{a as $e,e as b,t as ie,b as q,c as k,d as D,f as oe,g as m,h as K,y as a,z as fe,j,k as p,D as be,E as G,l as ne,r as Ce,m as ve,x as et,F as tt,w as lt,n as ce,G as ue,A as Me,H as st,v as de,I as Q,J as at}from"../chunks/scheduler.BHwVQH1W.js";import{S as rt,i as it,t as Y,a as ee,c as ke,b as Je,d as We,m as Xe,e as Qe,g as we}from"../chunks/index.BwsQPvRT.js";import{m as ot,H as Se,S as nt,a as ae,$ as ct,s as ut,i as ft,C as dt,E as ht,L as pt,b as mt,P as _t,c as gt,d as vt,e as Ve,l as Le,g as bt,f as Ae,h as kt,j as wt,k as yt,n as Be,o as Et,p as It,q as He,r as Ne,t as Dt,W as Tt,u as Mt,v as Oe,w as St,R as Vt,D as Lt,x as Pe,y as Ue,z as Ge,A as je,B as Ct,F as At}from"../chunks/remapping.umd.DnytsDkg.js";const Re="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%3e%3cg%20id='sendmessage-hover'%20transform='translate(-1344%20-675)'%3e%3ccircle%20id='椭圆_1'%20data-name='椭圆%201'%20cx='18'%20cy='18'%20r='18'%20transform='translate(1344%20675)'%20fill='%234a928c'/%3e%3cpath%20id='路径_4063'%20data-name='路径%204063'%20d='M98.306,132.757l-14.225,2.384a.206.206,0,0,0-.123.337l1.765,2.064a.413.413,0,0,0,.462.117l12.175-4.705a.1.1,0,1,0-.054-.2ZM95.646,147.9l5.8-14.335a.206.206,0,0,0-.271-.268l-13.512,5.634a.309.309,0,0,0-.11.494l7.746,8.536a.206.206,0,0,0,.344-.061Zm-8.535-.093a1.454,1.454,0,0,1-.877.11.989.989,0,0,1-.836-1.153l-.408-7.478-2.1-2.506a2.03,2.03,0,0,1,1.236-3.407l16.715-2.279a2.034,2.034,0,0,1,2.1,2.885L97.283,148.5a2.048,2.048,0,0,1-3.336.522l-3.711-4.085q-.031.022-3.125,2.861ZM86.6,141.25l.248,4.3a.206.206,0,0,0,.351.135l1.718-1.7a.413.413,0,0,0,.023-.561l-1.977-2.31a.206.206,0,0,0-.363.146Z'%20transform='translate(1250.628%20567.078)%20rotate(-8)'%20fill='%23fff'/%3e%3crect%20id='矩形_3684'%20data-name='矩形%203684'%20width='36'%20height='36'%20transform='translate(1344%20675)'%20fill='none'/%3e%3crect%20id='矩形_3685'%20data-name='矩形%203685'%20width='36'%20height='36'%20rx='6'%20transform='translate(1344%20675)'%20fill='none'/%3e%3c/g%3e%3c/svg%3e";function qe(l,e,t){const s=l.slice();return s[48]=e[t],s[50]=t,s}function Ke(l){let e,t;return e=new nt({}),e.$on("settings-changed",Ft),{c(){Je(e.$$.fragment)},l(s){We(e.$$.fragment,s)},m(s,r){Xe(e,s,r),t=!0},p:ce,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function Bt(l){let e,t,s=l[8]("app.noConversation")+"",r;return{c(){e=b("div"),t=b("p"),r=ie(s),this.h()},l(h){e=k(h,"DIV",{class:!0});var d=D(e);t=k(d,"P",{});var n=D(t);r=oe(n,s),n.forEach(m),d.forEach(m),this.h()},h(){a(e,"class","flex justify-center items-center h-full")},m(h,d){j(h,e,d),p(e,t),p(t,r)},p(h,d){d[0]&256&&s!==(s=h[8]("app.noConversation")+"")&&ne(r,s)},i:ce,o:ce,d(h){h&&m(e)}}}function Ht(l){let e,t,s,r,h,d=He(l[7]),n=[];for(let i=0;i<d.length;i+=1)n[i]=Fe(qe(l,d,i));const f=i=>ee(n[i],1,1,()=>{n[i]=null});return{c(){e=b("div"),t=b("div");for(let i=0;i<n.length;i+=1)n[i].c();s=q(),r=b("div"),this.h()},l(i){e=k(i,"DIV",{class:!0});var o=D(e);t=k(o,"DIV",{class:!0});var c=D(t);for(let I=0;I<n.length;I+=1)n[I].l(c);s=K(c),r=k(c,"DIV",{class:!0}),D(r).forEach(m),c.forEach(m),o.forEach(m),this.h()},h(){a(r,"class","tailblock h-10 w-full"),a(t,"class","w-full"),a(e,"class","flex grow max-w-full px-2")},m(i,o){j(i,e,o),p(e,t);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);p(t,s),p(t,r),h=!0},p(i,o){if(o[0]&2084328){d=He(i[7]);let c;for(c=0;c<d.length;c+=1){const I=qe(i,d,c);n[c]?(n[c].p(I,o),Y(n[c],1)):(n[c]=Fe(I),n[c].c(),Y(n[c],1),n[c].m(t,s))}for(we(),c=d.length;c<n.length;c+=1)f(c);ke()}},i(i){if(!h){for(let o=0;o<d.length;o+=1)Y(n[o]);h=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)ee(n[o]);h=!1},d(i){i&&m(e),st(n,i)}}}function Nt(l){let e,t=l[50]!==0&&Pt(l);return{c(){t&&t.c(),e=de()},l(s){t&&t.l(s),e=de()},m(s,r){t&&t.m(s,r),j(s,e,r)},p(s,r){s[50]!==0&&t.p(s,r)},i:ce,o:ce,d(s){s&&m(e),t&&t.d(s)}}}function Ot(l){let e,t,s,r=`<img src="${Ct}" alt="Profile" class="w-[1.5rem] h-[1.5rem]"/>`,h,d,n=l[8]("app.assistantname")+"",f,i,o,c,I,y;c=new Mt({props:{renderers:l[11],source:Oe(l[48].content.toString())}});let g=l[10]===!1&&ze(l);return{c(){e=b("div"),t=b("div"),s=b("div"),s.innerHTML=r,h=q(),d=b("div"),f=ie(n),i=q(),o=b("div"),Je(c.$$.fragment),I=q(),g&&g.c(),this.h()},l(_){e=k(_,"DIV",{class:!0});var v=D(e);t=k(v,"DIV",{class:!0});var E=D(t);s=k(E,"DIV",{"data-svelte-h":!0}),at(s)!=="svelte-9ctnqd"&&(s.innerHTML=r),h=K(E),d=k(E,"DIV",{class:!0});var V=D(d);f=oe(V,n),V.forEach(m),E.forEach(m),i=K(v),o=k(v,"DIV",{class:!0});var C=D(o);We(c.$$.fragment,C),C.forEach(m),I=K(v),g&&g.l(v),v.forEach(m),this.h()},h(){a(d,"class","relative ml-2 font-bold"),a(t,"class","profile-picture flex align-middle"),a(o,"class","message-display mt-2 transition-all duration-200 ease-in-out"),a(e,"class","message relative inline-block bg-primary mt-0 flex flex-col transition-all duration-200 ease-in-out")},m(_,v){j(_,e,v),p(e,t),p(t,s),p(t,h),p(t,d),p(d,f),p(e,i),p(e,o),Xe(c,o,null),p(e,I),g&&g.m(e,null),y=!0},p(_,v){(!y||v[0]&256)&&n!==(n=_[8]("app.assistantname")+"")&&ne(f,n);const E={};v[0]&128&&(E.source=Oe(_[48].content.toString())),c.$set(E),_[10]===!1?g?g.p(_,v):(g=ze(_),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(_){y||(Y(c.$$.fragment,_),y=!0)},o(_){ee(c.$$.fragment,_),y=!1},d(_){_&&m(e),Qe(c),g&&g.d()}}}function Pt(l){let e;function t(h,d){return h[5]===h[50]?Gt:Ut}let s=t(l),r=s(l);return{c(){r.c(),e=de()},l(h){r.l(h),e=de()},m(h,d){r.m(h,d),j(h,e,d)},p(h,d){s===(s=t(h))&&r?r.p(h,d):(r.d(1),r=s(h),r&&(r.c(),r.m(e.parentNode,e)))},d(h){h&&m(e),r.d(h)}}}function Ut(l){let e,t,s=l[8]("app.username")+"",r,h,d,n,f,i,o,c,I,y,g=l[48].content+"",_,v,E,V,C,N,O,L,M,F;function U(){return l[30](l[50])}return{c(){e=b("div"),t=b("h5"),r=ie(s),h=ie(":"),d=q(),n=b("div"),f=b("div"),i=b("div"),o=b("div"),c=b("div"),I=b("div"),y=b("div"),_=ie(g),v=q(),E=b("div"),V=b("button"),C=b("img"),this.h()},l(R){e=k(R,"DIV",{class:!0});var S=D(e);t=k(S,"H5",{class:!0});var A=D(t);r=oe(A,s),h=oe(A,":"),A.forEach(m),d=K(S),n=k(S,"DIV",{class:!0});var B=D(n);f=k(B,"DIV",{class:!0});var w=D(f);i=k(w,"DIV",{class:!0});var T=D(i);o=k(T,"DIV",{class:!0});var z=D(o);c=k(z,"DIV",{class:!0});var J=D(c);I=k(J,"DIV",{class:!0});var x=D(I);y=k(x,"DIV",{class:!0});var te=D(y);_=oe(te,g),te.forEach(m),v=K(x),E=k(x,"DIV",{class:!0});var $=D(E);V=k($,"BUTTON",{"data-tooltip":!0,class:!0});var le=D(V);C=k(le,"IMG",{class:!0,alt:!0,src:!0}),le.forEach(m),$.forEach(m),x.forEach(m),J.forEach(m),z.forEach(m),T.forEach(m),w.forEach(m),B.forEach(m),S.forEach(m),this.h()},h(){a(t,"class","sr-only"),a(y,"class","whitespace-pre-wrap"),a(C,"class","edit-icon"),a(C,"alt",N=l[8]("app.edit")),Q(C.src,O=At)||a(C,"src",O),a(V,"data-tooltip",L=l[8]("app.edit")),a(V,"class","btn-custom btn-edit flex items-center justify-center text-token-text-secondary transition"),a(E,"class","absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block"),a(I,"class","group/conversation-turn relative max-w-[70%] rounded-3xl px-3 py-2 bg-[#f4f4f4] rounded-tr-lg"),a(c,"class","flex w-full flex-col gap-1 empty:hidden items-end rtl:items-start"),a(o,"class","min-h-[20px] text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),a(i,"class","flex max-w-full flex-col flex-grow"),a(f,"class","flex-col gap-1 md:gap-3"),a(n,"class","message relative flex w-full min-w-0 flex-col"),a(e,"class","w-full text-token-text-primary focus-visible:outline-2 focus-visible:outline-offset-[-4px]")},m(R,S){j(R,e,S),p(e,t),p(t,r),p(t,h),p(e,d),p(e,n),p(n,f),p(f,i),p(i,o),p(o,c),p(c,I),p(I,y),p(y,_),p(I,v),p(I,E),p(E,V),p(V,C),M||(F=G(V,"click",U),M=!0)},p(R,S){l=R,S[0]&256&&s!==(s=l[8]("app.username")+"")&&ne(r,s),S[0]&128&&g!==(g=l[48].content+"")&&ne(_,g),S[0]&256&&N!==(N=l[8]("app.edit"))&&a(C,"alt",N),S[0]&256&&L!==(L=l[8]("app.edit"))&&a(V,"data-tooltip",L)},d(R){R&&m(e),M=!1,F()}}}function Gt(l){let e,t,s,r,h=l[8]("app.cancel")+"",d,n,f,i=l[8]("app.submit")+"",o,c,I,y;function g(){return l[29](l[50])}return{c(){e=b("textarea"),t=q(),s=b("div"),r=b("button"),d=ie(h),n=q(),f=b("button"),o=ie(i),this.h()},l(_){e=k(_,"TEXTAREA",{class:!0,style:!0}),D(e).forEach(m),t=K(_),s=k(_,"DIV",{class:!0});var v=D(s);r=k(v,"BUTTON",{class:!0});var E=D(r);d=oe(E,h),E.forEach(m),n=K(v),f=k(v,"BUTTON",{class:!0});var V=D(f);o=oe(V,i),V.forEach(m),v.forEach(m),this.h()},h(){a(e,"class","w-full message-edit-textarea mt-2 bg-secondary p-2 mx-2 border-2 border-themegreyborder resize-none focus:outline-2 focus:outline-themegreen shadow rounded-lg transition-all duration-200 ease-in-out"),e.autofocus=!0,fe(e,"height","6.5rem"),fe(e,"overflow-y","auto"),a(r,"class","cancel-edit border-2 border-themegreyborder bg-themegreyhover hover:bg-secondary rounded-lg px-3 py-1 mr-2"),a(f,"class",c="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white")),f.disabled=l[10],a(s,"class","flex place-content-center mt-4")},m(_,v){j(_,e,v),l[26](e),be(e,l[6]),j(_,t,v),j(_,s,v),p(s,r),p(r,d),p(s,n),p(s,f),p(f,o),e.focus(),I||(y=[G(e,"input",l[27]),G(e,"input",Ye),G(r,"click",l[28]),G(f,"click",g)],I=!0)},p(_,v){l=_,v[0]&64&&be(e,l[6]),v[0]&256&&h!==(h=l[8]("app.cancel")+"")&&ne(d,h),v[0]&256&&i!==(i=l[8]("app.submit")+"")&&ne(o,i),v[0]&1024&&c!==(c="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white"))&&a(f,"class",c),v[0]&1024&&(f.disabled=l[10])},d(_){_&&(m(e),m(t),m(s)),l[26](null),I=!1,Ce(y)}}}function ze(l){let e,t,s,r,h,d,n,f,i,o,c,I,y,g,_,v,E,V,C,N,O,L,M,F,U,R,S,A,B,w,T,z,J;function x(){return l[21](l[48],l[50])}function te(){return l[22](l[50])}function $(){return l[23](l[50])}function le(){return l[24](l[50])}function ye(){return l[25](l[50])}return{c(){e=b("div"),t=b("div"),s=b("button"),r=b("img"),f=q(),i=b("button"),o=b("img"),g=q(),_=b("button"),v=b("img"),N=q(),O=b("button"),L=b("img"),R=q(),S=b("button"),A=b("img"),this.h()},l(se){e=k(se,"DIV",{class:!0});var P=D(e);t=k(P,"DIV",{class:!0});var W=D(t);s=k(W,"BUTTON",{class:!0,"data-tooltip":!0});var pe=D(s);r=k(pe,"IMG",{alt:!0,src:!0,class:!0}),pe.forEach(m),f=K(W),i=k(W,"BUTTON",{class:!0,"data-tooltip":!0});var me=D(i);o=k(me,"IMG",{class:!0,alt:!0,src:!0}),me.forEach(m),g=K(W),_=k(W,"BUTTON",{class:!0,"data-tooltip":!0});var _e=D(_);v=k(_e,"IMG",{class:!0,alt:!0,src:!0}),_e.forEach(m),N=K(W),O=k(W,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ee=D(O);L=k(Ee,"IMG",{alt:!0,src:!0,class:!0}),Ee.forEach(m),R=K(W),S=k(W,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ie=D(S);A=k(Ie,"IMG",{alt:!0,src:!0,class:!0}),Ie.forEach(m),W.forEach(m),P.forEach(m),this.h()},h(){a(r,"alt",h=l[8]("app.copy")),Q(r.src,d=St)||a(r,"src",d),a(r,"class","copy-icon copyAnime"+l[50]),a(s,"class","btn-custom copyButton"),a(s,"data-tooltip",n=l[8]("app.copy")),a(o,"class",""),a(o,"alt",c=l[8]("app.retry")),Q(o.src,I=Vt)||a(o,"src",I),a(i,"class","btn-custom"),a(i,"data-tooltip",y=l[8]("app.retry")),a(v,"class","delete-icon"),a(v,"alt",E=l[8]("app.delete")),Q(v.src,V=Lt)||a(v,"src",V),a(_,"class","deleteButton btn-custom"),a(_,"data-tooltip",C=l[8]("app.delete")),a(L,"alt","like"),Q(L.src,M=l[48].isLiked?Pe:Ue)||a(L,"src",M),a(L,"class",F=l[48].isLiked?"small-rotate-animation":""),a(O,"id","likeBtn"),a(O,"class","btn-custom"),a(O,"data-tooltip",U=l[8]("app.like")),a(A,"alt","dislike"),Q(A.src,B=l[48].isDisliked?Ge:je)||a(A,"src",B),a(A,"class",w=l[48].isDisliked?"small-rotate-animation":""),a(S,"id","dislikeBtn"),a(S,"class","btn-custom"),a(S,"data-tooltip",T=l[8]("app.dislike")),a(t,"class","flex justify-start rounded-xl items-center"),a(e,"class","toolbelt flex gap-3 empty:hidden -ml-2")},m(se,P){j(se,e,P),p(e,t),p(t,s),p(s,r),p(t,f),p(t,i),p(i,o),p(t,g),p(t,_),p(_,v),p(t,N),p(t,O),p(O,L),p(t,R),p(t,S),p(S,A),z||(J=[G(s,"click",x),G(i,"click",te),G(_,"click",$),G(O,"click",le),G(S,"click",ye)],z=!0)},p(se,P){l=se,P[0]&256&&h!==(h=l[8]("app.copy"))&&a(r,"alt",h),P[0]&256&&n!==(n=l[8]("app.copy"))&&a(s,"data-tooltip",n),P[0]&256&&c!==(c=l[8]("app.retry"))&&a(o,"alt",c),P[0]&256&&y!==(y=l[8]("app.retry"))&&a(i,"data-tooltip",y),P[0]&256&&E!==(E=l[8]("app.delete"))&&a(v,"alt",E),P[0]&256&&C!==(C=l[8]("app.delete"))&&a(_,"data-tooltip",C),P[0]&128&&!Q(L.src,M=l[48].isLiked?Pe:Ue)&&a(L,"src",M),P[0]&128&&F!==(F=l[48].isLiked?"small-rotate-animation":"")&&a(L,"class",F),P[0]&256&&U!==(U=l[8]("app.like"))&&a(O,"data-tooltip",U),P[0]&128&&!Q(A.src,B=l[48].isDisliked?Ge:je)&&a(A,"src",B),P[0]&128&&w!==(w=l[48].isDisliked?"small-rotate-animation":"")&&a(A,"class",w),P[0]&256&&T!==(T=l[8]("app.dislike"))&&a(S,"data-tooltip",T)},d(se){se&&m(e),z=!1,Ce(J)}}}function Fe(l){let e,t,s,r;const h=[Ot,Nt],d=[];function n(f,i){return f[48].role==="assistant"?0:f[48].role==="user"?1:-1}return~(e=n(l))&&(t=d[e]=h[e](l)),{c(){t&&t.c(),s=de()},l(f){t&&t.l(f),s=de()},m(f,i){~e&&d[e].m(f,i),j(f,s,i),r=!0},p(f,i){let o=e;e=n(f),e===o?~e&&d[e].p(f,i):(t&&(we(),ee(d[o],1,1,()=>{d[o]=null}),ke()),~e?(t=d[e],t?t.p(f,i):(t=d[e]=h[e](f),t.c()),Y(t,1),t.m(s.parentNode,s)):t=null)},i(f){r||(Y(t),r=!0)},o(f){ee(t),r=!1},d(f){f&&m(s),~e&&d[e].d(f)}}}function jt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=l[0]?Re:Ne)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){j(s,e,r)},p(s,r){r[0]&1&&!Q(e.src,t=s[0]?Re:Ne)&&a(e,"src",t)},d(s){s&&m(e)}}}function Rt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=Dt)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){j(s,e,r)},p:ce,d(s){s&&m(e)}}}function qt(l){let e,t;return{c(){e=b("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=Tt)||a(e,"src",t),a(e,"alt","wait"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){j(s,e,r)},p:ce,d(s){s&&m(e)}}}function Kt(l){let e,t=l[8]("app.title")+"",s,r,h,d,n,f,i,o,c,I,y,g,_,v,E,V,C,N,O,L,M=l[9]&&Ke();const F=[Ht,Bt],U=[];function R(w,T){return w[7].length>0?0:1}i=R(l),o=U[i]=F[i](l);function S(w,T){return T[0]&2&&(V=null),w[10]?qt:(V==null&&(V=w[1].trim().length===0),V?Rt:jt)}let A=S(l,[-1,-1]),B=A(l);return{c(){e=b("title"),s=ie(t),r=q(),M&&M.c(),h=q(),d=b("main"),n=b("div"),f=b("div"),o.c(),c=q(),I=b("div"),y=b("div"),g=b("textarea"),v=q(),E=b("button"),B.c(),this.h()},l(w){e=k(w,"TITLE",{});var T=D(e);s=oe(T,t),T.forEach(m),r=K(w),M&&M.l(w),h=K(w),d=k(w,"MAIN",{class:!0});var z=D(d);n=k(z,"DIV",{class:!0});var J=D(n);f=k(J,"DIV",{class:!0});var x=D(f);o.l(x),x.forEach(m),c=K(J),I=k(J,"DIV",{class:!0});var te=D(I);y=k(te,"DIV",{class:!0});var $=D(y);g=k($,"TEXTAREA",{class:!0,placeholder:!0,rows:!0,style:!0}),D(g).forEach(m),v=K($),E=k($,"BUTTON",{class:!0});var le=D(E);B.l(le),le.forEach(m),$.forEach(m),te.forEach(m),J.forEach(m),z.forEach(m),this.h()},h(){a(f,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow pb-10"),a(g,"class","bg-transparent min-h-[2.5rem] flex-1 mr-2 border-0 resize-none border-none focus:outline-none"),a(g,"placeholder",_=l[8]("app.textareaPlaceholder")),g.autofocus=!0,a(g,"rows","1"),fe(g,"overflow-y","auto"),fe(g,"overflow","visible",1),fe(g,"line-height","1.2rem"),fe(g,"min-height","1.5rem"),a(E,"class","cursor-pointer hover:themegray transition-colors"),E.disabled=C=!l[10]&&!l[1].trim().length,a(y,"class","inputbox w-full flex items-end mt-auto mx-auto py-[0.5rem] relative"),a(I,"class","inputbox-container w-full px-3 flex justify-center items-center round-[1.25rem] bg-[#f4f4f4]"),a(n,"class","h-screen flex justify-stretch flex-col text-black/80 height-manager bg-primary"),a(d,"class","bg-primary overflow-hidden fixed w-full")},m(w,T){j(w,e,T),p(e,s),j(w,r,T),M&&M.m(w,T),j(w,h,T),j(w,d,T),p(d,n),p(n,f),U[i].m(f,null),l[31](f),p(n,c),p(n,I),p(I,y),p(y,g),l[32](g),be(g,l[1]),p(y,v),p(y,E),B.m(E,null),N=!0,g.focus(),O||(L=[G(g,"input",l[33]),G(g,"input",zt),G(g,"keydown",l[12]),G(E,"click",l[34]),G(E,"mouseover",l[35]),G(E,"mouseleave",l[36]),G(E,"focus",l[37]),G(E,"blur",l[38])],O=!0)},p(w,T){(!N||T[0]&256)&&t!==(t=w[8]("app.title")+"")&&ne(s,t),w[9]?M?(M.p(w,T),T[0]&512&&Y(M,1)):(M=Ke(),M.c(),Y(M,1),M.m(h.parentNode,h)):M&&(we(),ee(M,1,1,()=>{M=null}),ke());let z=i;i=R(w),i===z?U[i].p(w,T):(we(),ee(U[z],1,1,()=>{U[z]=null}),ke(),o=U[i],o?o.p(w,T):(o=U[i]=F[i](w),o.c()),Y(o,1),o.m(f,null)),(!N||T[0]&256&&_!==(_=w[8]("app.textareaPlaceholder")))&&a(g,"placeholder",_),T[0]&2&&be(g,w[1]),A===(A=S(w,T))&&B?B.p(w,T):(B.d(1),B=A(w),B&&(B.c(),B.m(E,null))),(!N||T[0]&1026&&C!==(C=!w[10]&&!w[1].trim().length))&&(E.disabled=C)},i(w){N||(Y(M),Y(o),N=!0)},o(w){ee(M),ee(o),N=!1},d(w){w&&(m(e),m(r),m(h),m(d)),M&&M.d(w),U[i].d(),l[31](null),l[32](null),B.d(),O=!1,Ce(L)}}}const Ze=300;function Ye(l){l.target.style.height="inherit";const e=window.getComputedStyle(l.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+l.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10),s=Math.min(t,Ze);l.target.style.height=`${s}px`,s>=Ze&&(l.target.scrollTop=l.target.scrollHeight)}function zt(l){Ye(l)}function Ft(){}function Zt(l,e,t){let s,r,h,d;ve(l,ae,u=>t(7,s=u)),ve(l,ct,u=>t(8,r=u)),ve(l,ut,u=>t(9,h=u)),ve(l,ft,u=>t(10,d=u));const n={code:dt,em:ht,list:pt,listitem:mt,paragraph:_t,html:gt};ot.setOptions({highlight(u,H){return Se.getLanguage(H)?Se.highlight(H,u).value:Se.highlightAuto(u).value},langPrefix:"hljs language-"});let f=!1,i,o="",c,I,y,g=null,_="",v=null,E=!1;function V(){if(!y)return;const u={childList:!0,subtree:!0,characterData:!0};v=new MutationObserver((H,Z)=>{C()}),v.observe(y,u)}et(async()=>{await vt(),E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),V(),i=new URLSearchParams(window.location.search).get("aisearch_q"),i&&(t(1,o=i),L()),window.addEventListener("message",X=>{console.log(X.data),t(1,o=X.data),L()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".message-display h1, .message-display h2, .message-display h3, .message-display h4, .message-display h5, .message-display h6").forEach(he=>{const ge=he.textContent+"...";he.setAttribute("data-text",ge)})});let H=localStorage.getItem("sendkey")||"Enter",Z=localStorage.getItem("linebreakkey")||"Shift+Enter",De=[];Ve.set(H),Ve.subscribe(X=>{localStorage.setItem("sendkey",X)}),Le.set(Z),Le.subscribe(X=>{localStorage.setItem("linebreakkey",X)}),ae.set(De),ae.subscribe(X=>{localStorage.setItem("search_messages",JSON.stringify(X))});const Te=localStorage.getItem("locale")||bt()||"en";Ae.set(Te),Ae.subscribe(X=>{localStorage.setItem("locale",X)})}),tt(()=>{v&&(v.disconnect(),v=null),kt()});function C(){y&&y.scrollHeight-y.scrollTop-150<=y.clientHeight&&t(4,y.scrollTop=y.scrollHeight,y)}const N={Enter:"001","Shift+Enter":"011","Ctrl+Enter":"101"};function O(u){let H=parseInt(N[ue(Ve)],2),Z=parseInt(N[ue(Le)],2),De=parseInt(u.key==="Enter"?"001":"000",2),Te=parseInt(u.shiftKey?"010":"000",2),he=parseInt(u.ctrlKey?"100":"000",2)|Te|De;if(!(H^he)&&!E&&(u.preventDefault(),L()),!(Z^he)||u.key==="Enter"&&E){u.preventDefault();const re=this,ge=re.selectionStart,xe=re.selectionEnd;re.value=re.value.substring(0,ge)+`
`+re.value.substring(xe),re.selectionStart=re.selectionEnd=ge+1}}function L(){wt(o),t(1,o=""),t(2,c.style.height="1.5rem",c),t(2,c.style.lineHight="1.2rem",c)}function M(){y&&t(4,y.scrollTop=y.scrollHeight,y)}function F(u,H){yt(u.replaceAll("\\n",`
`));let Z=document.getElementsByClassName("copyAnime"+H)[0];Z.classList.add("small-rotate-animation"),setTimeout(()=>{Z.classList.remove("small-rotate-animation")},500)}let U=0;lt(()=>{const u=s.length||0;u>U&&M(),U=u});function R(u){t(5,g=u),t(6,_=ue(ae)[u].content)}function S(u){Be(ue(ae)[u-1].content,u)}function A(){t(5,g=null),t(6,_=""),t(3,I.style.height="96px",I)}function B(u){Be(_,u+1),A()}function w(u){let H=s[u];H.isLiked=!0,H.isDisliked=!1;let Z=ue(ae);Z[u]=H,ae.set(Z)}function T(u){let H=s[u];H.isLiked=!1,H.isDisliked=!0;let Z=ue(ae);Z[u]=H,ae.set(Z)}const z=(u,H)=>F(u.content,H),J=u=>S(u),x=u=>Et(u),te=u=>w(u),$=u=>T(u);function le(u){Me[u?"unshift":"push"](()=>{I=u,t(3,I)})}function ye(){_=this.value,t(6,_)}const se=()=>A(),P=u=>B(u),W=u=>R(u);function pe(u){Me[u?"unshift":"push"](()=>{y=u,t(4,y)})}function me(u){Me[u?"unshift":"push"](()=>{c=u,t(2,c)})}function _e(){o=this.value,t(1,o)}return[f,o,c,I,y,g,_,s,r,h,d,n,O,L,F,R,S,A,B,w,T,z,J,x,te,$,le,ye,se,P,W,pe,me,_e,()=>{d?It():L()},()=>t(0,f=!0),()=>t(0,f=!1),()=>t(0,f=!0),()=>t(0,f=!1)]}class $t extends rt{constructor(e){super(),it(this,e,Zt,Kt,$e,{},null,[-1,-1])}}export{$t as component};
