import{a as tt,e as v,b as K,t as ne,D as lt,c as b,E as Ve,g as d,h as J,d as I,f as ce,F as Q,y as a,z as me,k as h,j as R,G as ke,H as q,l as fe,r as Ae,m as be,x as st,I as at,w as rt,n as he,J as pe,A as De,K as it,v as _e}from"../chunks/scheduler.CRQEjDpn.js";import{S as ot,i as nt,t as ee,a as ae,c as we,b as xe,d as Xe,m as Qe,e as Ye,g as ye}from"../chunks/index.DPd6IxDO.js";import{m as ct,H as Me,S as ut,a as ie,$ as dt,s as ft,i as ht,C as pt,E as mt,L as _t,b as gt,P as vt,c as bt,d as kt,e as Ce,l as Le,g as wt,f as He,h as yt,j as Et,k as It,n as Pe,o as Tt,p as Dt,q as Ne,r as Oe,t as Mt,W as Ct,u as Lt,v as Ge,w as St,R as Vt,D as At,x as je,y as Re,z as Ue,A as qe,B as Bt,F as Ht}from"../chunks/remapping.umd.Bhrie2HU.js";const Pt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ke="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%3e%3cg%20id='sendmessage-hover'%20transform='translate(-1344%20-675)'%3e%3ccircle%20id='椭圆_1'%20data-name='椭圆%201'%20cx='18'%20cy='18'%20r='18'%20transform='translate(1344%20675)'%20fill='%234a928c'/%3e%3cpath%20id='路径_4063'%20data-name='路径%204063'%20d='M98.306,132.757l-14.225,2.384a.206.206,0,0,0-.123.337l1.765,2.064a.413.413,0,0,0,.462.117l12.175-4.705a.1.1,0,1,0-.054-.2ZM95.646,147.9l5.8-14.335a.206.206,0,0,0-.271-.268l-13.512,5.634a.309.309,0,0,0-.11.494l7.746,8.536a.206.206,0,0,0,.344-.061Zm-8.535-.093a1.454,1.454,0,0,1-.877.11.989.989,0,0,1-.836-1.153l-.408-7.478-2.1-2.506a2.03,2.03,0,0,1,1.236-3.407l16.715-2.279a2.034,2.034,0,0,1,2.1,2.885L97.283,148.5a2.048,2.048,0,0,1-3.336.522l-3.711-4.085q-.031.022-3.125,2.861ZM86.6,141.25l.248,4.3a.206.206,0,0,0,.351.135l1.718-1.7a.413.413,0,0,0,.023-.561l-1.977-2.31a.206.206,0,0,0-.363.146Z'%20transform='translate(1250.628%20567.078)%20rotate(-8)'%20fill='%23fff'/%3e%3crect%20id='矩形_3684'%20data-name='矩形%203684'%20width='36'%20height='36'%20transform='translate(1344%20675)'%20fill='none'/%3e%3crect%20id='矩形_3685'%20data-name='矩形%203685'%20width='36'%20height='36'%20rx='6'%20transform='translate(1344%20675)'%20fill='none'/%3e%3c/g%3e%3c/svg%3e",{document:Se}=Pt;function Je(l,e,t){const s=l.slice();return s[48]=e[t],s[50]=t,s}function ze(l){let e,t;return e=new ut({}),e.$on("settings-changed",Zt),{c(){xe(e.$$.fragment)},l(s){Xe(e.$$.fragment,s)},m(s,r){Qe(e,s,r),t=!0},p:he,i(s){t||(ee(e.$$.fragment,s),t=!0)},o(s){ae(e.$$.fragment,s),t=!1},d(s){Ye(e,s)}}}function Nt(l){let e,t,s=l[8]("app.noConversation")+"",r;return{c(){e=v("div"),t=v("p"),r=ne(s),this.h()},l(g){e=b(g,"DIV",{class:!0});var _=I(e);t=b(_,"P",{});var u=I(t);r=ce(u,s),u.forEach(d),_.forEach(d),this.h()},h(){a(e,"class","flex justify-center items-center h-full")},m(g,_){R(g,e,_),h(e,t),h(t,r)},p(g,_){_[0]&256&&s!==(s=g[8]("app.noConversation")+"")&&fe(r,s)},i:he,o:he,d(g){g&&d(e)}}}function Ot(l){let e,t,s,r,g,_=Ne(l[7]),u=[];for(let i=0;i<_.length;i+=1)u[i]=We(Je(l,_,i));const m=i=>ae(u[i],1,1,()=>{u[i]=null});return{c(){e=v("div"),t=v("div");for(let i=0;i<u.length;i+=1)u[i].c();s=K(),r=v("div"),this.h()},l(i){e=b(i,"DIV",{class:!0});var f=I(e);t=b(f,"DIV",{class:!0});var o=I(t);for(let E=0;E<u.length;E+=1)u[E].l(o);s=J(o),r=b(o,"DIV",{class:!0}),I(r).forEach(d),o.forEach(d),f.forEach(d),this.h()},h(){a(r,"class","tailblock h-10 w-full"),a(t,"class","w-full"),a(e,"class","flex grow max-w-full px-2")},m(i,f){R(i,e,f),h(e,t);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(t,null);h(t,s),h(t,r),g=!0},p(i,f){if(f[0]&2084328){_=Ne(i[7]);let o;for(o=0;o<_.length;o+=1){const E=Je(i,_,o);u[o]?(u[o].p(E,f),ee(u[o],1)):(u[o]=We(E),u[o].c(),ee(u[o],1),u[o].m(t,s))}for(ye(),o=_.length;o<u.length;o+=1)m(o);we()}},i(i){if(!g){for(let f=0;f<_.length;f+=1)ee(u[f]);g=!0}},o(i){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)ae(u[f]);g=!1},d(i){i&&d(e),it(u,i)}}}function Gt(l){let e,t=l[50]!==0&&Rt(l);return{c(){t&&t.c(),e=_e()},l(s){t&&t.l(s),e=_e()},m(s,r){t&&t.m(s,r),R(s,e,r)},p(s,r){s[50]!==0&&t.p(s,r)},i:he,o:he,d(s){s&&d(e),t&&t.d(s)}}}function jt(l){let e,t,s,r=`<img src="${Bt}" alt="Profile" class="w-[1.5rem] h-[1.5rem]"/>`,g,_,u=l[8]("app.assistantname")+"",m,i,f,o,E,k;o=new Lt({props:{renderers:l[11],source:Ge(l[48].content.toString())}});let y=l[10]===!1&&Fe(l);return{c(){e=v("div"),t=v("div"),s=v("div"),s.innerHTML=r,g=K(),_=v("div"),m=ne(u),i=K(),f=v("div"),xe(o.$$.fragment),E=K(),y&&y.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var p=I(e);t=b(p,"DIV",{class:!0});var C=I(t);s=b(C,"DIV",{"data-svelte-h":!0}),Ve(s)!=="svelte-9ctnqd"&&(s.innerHTML=r),g=J(C),_=b(C,"DIV",{class:!0});var S=I(_);m=ce(S,u),S.forEach(d),C.forEach(d),i=J(p),f=b(p,"DIV",{class:!0});var V=I(f);Xe(o.$$.fragment,V),V.forEach(d),E=J(p),y&&y.l(p),p.forEach(d),this.h()},h(){a(_,"class","relative ml-2 font-bold"),a(t,"class","profile-picture flex align-middle"),a(f,"class","message-display mt-2 transition-all duration-200 ease-in-out"),a(e,"class","message relative inline-block bg-primary mt-0 flex flex-col transition-all duration-200 ease-in-out")},m(c,p){R(c,e,p),h(e,t),h(t,s),h(t,g),h(t,_),h(_,m),h(e,i),h(e,f),Qe(o,f,null),h(e,E),y&&y.m(e,null),k=!0},p(c,p){(!k||p[0]&256)&&u!==(u=c[8]("app.assistantname")+"")&&fe(m,u);const C={};p[0]&128&&(C.source=Ge(c[48].content.toString())),o.$set(C),c[10]===!1?y?y.p(c,p):(y=Fe(c),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(c){k||(ee(o.$$.fragment,c),k=!0)},o(c){ae(o.$$.fragment,c),k=!1},d(c){c&&d(e),Ye(o),y&&y.d()}}}function Rt(l){let e;function t(g,_){return g[5]===g[50]?qt:Ut}let s=t(l),r=s(l);return{c(){r.c(),e=_e()},l(g){r.l(g),e=_e()},m(g,_){r.m(g,_),R(g,e,_)},p(g,_){s===(s=t(g))&&r?r.p(g,_):(r.d(1),r=s(g),r&&(r.c(),r.m(e.parentNode,e)))},d(g){g&&d(e),r.d(g)}}}function Ut(l){let e,t,s=l[8]("app.username")+"",r,g,_,u,m,i,f,o,E,k,y=l[48].content+"",c,p,C,S,V,T,G,A,B,z;function W(){return l[30](l[50])}return{c(){e=v("div"),t=v("h5"),r=ne(s),g=ne(":"),_=K(),u=v("div"),m=v("div"),i=v("div"),f=v("div"),o=v("div"),E=v("div"),k=v("div"),c=ne(y),p=K(),C=v("div"),S=v("button"),V=v("img"),this.h()},l(P){e=b(P,"DIV",{class:!0});var L=I(e);t=b(L,"H5",{class:!0});var N=I(t);r=ce(N,s),g=ce(N,":"),N.forEach(d),_=J(L),u=b(L,"DIV",{class:!0});var D=I(u);m=b(D,"DIV",{class:!0});var Z=I(m);i=b(Z,"DIV",{class:!0});var j=I(i);f=b(j,"DIV",{class:!0});var te=I(f);o=b(te,"DIV",{class:!0});var le=I(o);E=b(le,"DIV",{class:!0});var x=I(E);k=b(x,"DIV",{class:!0});var U=I(k);c=ce(U,y),U.forEach(d),p=J(x),C=b(x,"DIV",{class:!0});var w=I(C);S=b(w,"BUTTON",{"data-tooltip":!0,class:!0});var M=I(S);V=b(M,"IMG",{class:!0,alt:!0,src:!0}),M.forEach(d),w.forEach(d),x.forEach(d),le.forEach(d),te.forEach(d),j.forEach(d),Z.forEach(d),D.forEach(d),L.forEach(d),this.h()},h(){a(t,"class","sr-only"),a(k,"class","whitespace-pre-wrap"),a(V,"class","edit-icon"),a(V,"alt",T=l[8]("app.edit")),Q(V.src,G=Ht)||a(V,"src",G),a(S,"data-tooltip",A=l[8]("app.edit")),a(S,"class","btn-custom btn-edit flex items-center justify-center text-token-text-secondary transition"),a(C,"class","absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block"),a(E,"class","group/conversation-turn relative max-w-[70%] rounded-3xl px-3 py-2 bg-[#f4f4f4] rounded-tr-lg"),a(o,"class","flex w-full flex-col gap-1 empty:hidden items-end rtl:items-start"),a(f,"class","min-h-[20px] text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),a(i,"class","flex max-w-full flex-col flex-grow"),a(m,"class","flex-col gap-1 md:gap-3"),a(u,"class","message relative flex w-full min-w-0 flex-col"),a(e,"class","w-full text-token-text-primary focus-visible:outline-2 focus-visible:outline-offset-[-4px]")},m(P,L){R(P,e,L),h(e,t),h(t,r),h(t,g),h(e,_),h(e,u),h(u,m),h(m,i),h(i,f),h(f,o),h(o,E),h(E,k),h(k,c),h(E,p),h(E,C),h(C,S),h(S,V),B||(z=q(S,"click",W),B=!0)},p(P,L){l=P,L[0]&256&&s!==(s=l[8]("app.username")+"")&&fe(r,s),L[0]&128&&y!==(y=l[48].content+"")&&fe(c,y),L[0]&256&&T!==(T=l[8]("app.edit"))&&a(V,"alt",T),L[0]&256&&A!==(A=l[8]("app.edit"))&&a(S,"data-tooltip",A)},d(P){P&&d(e),B=!1,z()}}}function qt(l){let e,t,s,r,g=l[8]("app.cancel")+"",_,u,m,i=l[8]("app.submit")+"",f,o,E,k;function y(){return l[29](l[50])}return{c(){e=v("textarea"),t=K(),s=v("div"),r=v("button"),_=ne(g),u=K(),m=v("button"),f=ne(i),this.h()},l(c){e=b(c,"TEXTAREA",{class:!0,style:!0}),I(e).forEach(d),t=J(c),s=b(c,"DIV",{class:!0});var p=I(s);r=b(p,"BUTTON",{class:!0});var C=I(r);_=ce(C,g),C.forEach(d),u=J(p),m=b(p,"BUTTON",{class:!0});var S=I(m);f=ce(S,i),S.forEach(d),p.forEach(d),this.h()},h(){a(e,"class","w-full message-edit-textarea mt-2 bg-secondary p-2 mx-2 border-2 border-themegreyborder resize-none focus:outline-2 focus:outline-themegreen shadow rounded-lg transition-all duration-200 ease-in-out"),e.autofocus=!0,me(e,"height","6.5rem"),me(e,"overflow-y","auto"),a(r,"class","cancel-edit border-2 border-themegreyborder bg-themegreyhover hover:bg-secondary rounded-lg px-3 py-1 mr-2"),a(m,"class",o="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white")),m.disabled=l[10],a(s,"class","flex place-content-center mt-4")},m(c,p){R(c,e,p),l[26](e),ke(e,l[6]),R(c,t,p),R(c,s,p),h(s,r),h(r,_),h(s,u),h(s,m),h(m,f),e.focus(),E||(k=[q(e,"input",l[27]),q(e,"input",$e),q(r,"click",l[28]),q(m,"click",y)],E=!0)},p(c,p){l=c,p[0]&64&&ke(e,l[6]),p[0]&256&&g!==(g=l[8]("app.cancel")+"")&&fe(_,g),p[0]&256&&i!==(i=l[8]("app.submit")+"")&&fe(f,i),p[0]&1024&&o!==(o="submit-edit rounded-lg px-3 py-1 mr-2 text-white bg-themegreen "+(l[10]?"bg-themegreylight text-white cursor-not-allowed":"hover:bg-themegreenhover hover:text-white"))&&a(m,"class",o),p[0]&1024&&(m.disabled=l[10])},d(c){c&&(d(e),d(t),d(s)),l[26](null),E=!1,Ae(k)}}}function Fe(l){let e,t,s,r,g,_,u,m,i,f,o,E,k,y,c,p,C,S,V,T,G,A,B,z,W,P,L,N,D,Z,j,te,le;function x(){return l[21](l[48],l[50])}function U(){return l[22](l[50])}function w(){return l[23](l[50])}function M(){return l[24](l[50])}function se(){return l[25](l[50])}return{c(){e=v("div"),t=v("div"),s=v("button"),r=v("img"),m=K(),i=v("button"),f=v("img"),y=K(),c=v("button"),p=v("img"),T=K(),G=v("button"),A=v("img"),P=K(),L=v("button"),N=v("img"),this.h()},l(Y){e=b(Y,"DIV",{class:!0});var H=I(e);t=b(H,"DIV",{class:!0});var F=I(t);s=b(F,"BUTTON",{class:!0,"data-tooltip":!0});var ue=I(s);r=b(ue,"IMG",{alt:!0,src:!0,class:!0}),ue.forEach(d),m=J(F),i=b(F,"BUTTON",{class:!0,"data-tooltip":!0});var re=I(i);f=b(re,"IMG",{class:!0,alt:!0,src:!0}),re.forEach(d),y=J(F),c=b(F,"BUTTON",{class:!0,"data-tooltip":!0});var de=I(c);p=b(de,"IMG",{class:!0,alt:!0,src:!0}),de.forEach(d),T=J(F),G=b(F,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ee=I(G);A=b(Ee,"IMG",{alt:!0,src:!0,class:!0}),Ee.forEach(d),P=J(F),L=b(F,"BUTTON",{id:!0,class:!0,"data-tooltip":!0});var Ie=I(L);N=b(Ie,"IMG",{alt:!0,src:!0,class:!0}),Ie.forEach(d),F.forEach(d),H.forEach(d),this.h()},h(){a(r,"alt",g=l[8]("app.copy")),Q(r.src,_=St)||a(r,"src",_),a(r,"class","copy-icon copyAnime"+l[50]),a(s,"class","btn-custom copyButton"),a(s,"data-tooltip",u=l[8]("app.copy")),a(f,"class",""),a(f,"alt",o=l[8]("app.retry")),Q(f.src,E=Vt)||a(f,"src",E),a(i,"class","btn-custom"),a(i,"data-tooltip",k=l[8]("app.retry")),a(p,"class","delete-icon"),a(p,"alt",C=l[8]("app.delete")),Q(p.src,S=At)||a(p,"src",S),a(c,"class","deleteButton btn-custom"),a(c,"data-tooltip",V=l[8]("app.delete")),a(A,"alt","like"),Q(A.src,B=l[48].isLiked?je:Re)||a(A,"src",B),a(A,"class",z=l[48].isLiked?"small-rotate-animation":""),a(G,"id","likeBtn"),a(G,"class","btn-custom"),a(G,"data-tooltip",W=l[8]("app.like")),a(N,"alt","dislike"),Q(N.src,D=l[48].isDisliked?Ue:qe)||a(N,"src",D),a(N,"class",Z=l[48].isDisliked?"small-rotate-animation":""),a(L,"id","dislikeBtn"),a(L,"class","btn-custom"),a(L,"data-tooltip",j=l[8]("app.dislike")),a(t,"class","flex justify-start rounded-xl items-center"),a(e,"class","toolbelt flex gap-3 empty:hidden -ml-2")},m(Y,H){R(Y,e,H),h(e,t),h(t,s),h(s,r),h(t,m),h(t,i),h(i,f),h(t,y),h(t,c),h(c,p),h(t,T),h(t,G),h(G,A),h(t,P),h(t,L),h(L,N),te||(le=[q(s,"click",x),q(i,"click",U),q(c,"click",w),q(G,"click",M),q(L,"click",se)],te=!0)},p(Y,H){l=Y,H[0]&256&&g!==(g=l[8]("app.copy"))&&a(r,"alt",g),H[0]&256&&u!==(u=l[8]("app.copy"))&&a(s,"data-tooltip",u),H[0]&256&&o!==(o=l[8]("app.retry"))&&a(f,"alt",o),H[0]&256&&k!==(k=l[8]("app.retry"))&&a(i,"data-tooltip",k),H[0]&256&&C!==(C=l[8]("app.delete"))&&a(p,"alt",C),H[0]&256&&V!==(V=l[8]("app.delete"))&&a(c,"data-tooltip",V),H[0]&128&&!Q(A.src,B=l[48].isLiked?je:Re)&&a(A,"src",B),H[0]&128&&z!==(z=l[48].isLiked?"small-rotate-animation":"")&&a(A,"class",z),H[0]&256&&W!==(W=l[8]("app.like"))&&a(G,"data-tooltip",W),H[0]&128&&!Q(N.src,D=l[48].isDisliked?Ue:qe)&&a(N,"src",D),H[0]&128&&Z!==(Z=l[48].isDisliked?"small-rotate-animation":"")&&a(N,"class",Z),H[0]&256&&j!==(j=l[8]("app.dislike"))&&a(L,"data-tooltip",j)},d(Y){Y&&d(e),te=!1,Ae(le)}}}function We(l){let e,t,s,r;const g=[jt,Gt],_=[];function u(m,i){return m[48].role==="assistant"?0:m[48].role==="user"?1:-1}return~(e=u(l))&&(t=_[e]=g[e](l)),{c(){t&&t.c(),s=_e()},l(m){t&&t.l(m),s=_e()},m(m,i){~e&&_[e].m(m,i),R(m,s,i),r=!0},p(m,i){let f=e;e=u(m),e===f?~e&&_[e].p(m,i):(t&&(ye(),ae(_[f],1,1,()=>{_[f]=null}),we()),~e?(t=_[e],t?t.p(m,i):(t=_[e]=g[e](m),t.c()),ee(t,1),t.m(s.parentNode,s)):t=null)},i(m){r||(ee(t),r=!0)},o(m){ae(t),r=!1},d(m){m&&d(s),~e&&_[e].d(m)}}}function Kt(l){let e,t;return{c(){e=v("img"),this.h()},l(s){e=b(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=l[0]?Ke:Oe)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){R(s,e,r)},p(s,r){r[0]&1&&!Q(e.src,t=s[0]?Ke:Oe)&&a(e,"src",t)},d(s){s&&d(e)}}}function Jt(l){let e,t;return{c(){e=v("img"),this.h()},l(s){e=b(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=Mt)||a(e,"src",t),a(e,"alt","send"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){R(s,e,r)},p:he,d(s){s&&d(e)}}}function zt(l){let e,t;return{c(){e=v("img"),this.h()},l(s){e=b(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=Ct)||a(e,"src",t),a(e,"alt","wait"),a(e,"class","min-w-[32px] w-[32px]")},m(s,r){R(s,e,r)},p:he,d(s){s&&d(e)}}}function Ft(l){let e,t="",s,r,g=`window.dataLayer = window.dataLayer || [];\r
    function gtag(){dataLayer.push(arguments);}\r
    gtag('js', new Date());\r
\r
    gtag('config', 'G-4JCE4T7WCH');`,_,u,m=l[8]("app.title")+"",i,f,o,E,k,y,c,p,C,S,V,T,G,A,B,z,W,P,L,N,D=l[9]&&ze();const Z=[Ot,Nt],j=[];function te(w,M){return w[7].length>0?0:1}c=te(l),p=j[c]=Z[c](l);function le(w,M){return M[0]&2&&(z=null),w[10]?zt:(z==null&&(z=w[1].trim().length===0),z?Jt:Kt)}let x=le(l,[-1,-1]),U=x(l);return{c(){e=v("script"),e.innerHTML=t,r=v("script"),r.textContent=g,_=K(),u=v("title"),i=ne(m),f=K(),D&&D.c(),o=K(),E=v("main"),k=v("div"),y=v("div"),p.c(),C=K(),S=v("div"),V=v("div"),T=v("textarea"),A=K(),B=v("button"),U.c(),this.h()},l(w){const M=lt("svelte-b4xvp3",Se.head);e=b(M,"SCRIPT",{src:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1sogdou"&&(e.innerHTML=t),r=b(M,"SCRIPT",{"data-svelte-h":!0}),Ve(r)!=="svelte-1a5uab0"&&(r.textContent=g),M.forEach(d),_=J(w),u=b(w,"TITLE",{});var se=I(u);i=ce(se,m),se.forEach(d),f=J(w),D&&D.l(w),o=J(w),E=b(w,"MAIN",{class:!0});var Y=I(E);k=b(Y,"DIV",{class:!0});var H=I(k);y=b(H,"DIV",{class:!0});var F=I(y);p.l(F),F.forEach(d),C=J(H),S=b(H,"DIV",{class:!0});var ue=I(S);V=b(ue,"DIV",{class:!0});var re=I(V);T=b(re,"TEXTAREA",{class:!0,placeholder:!0,rows:!0,style:!0}),I(T).forEach(d),A=J(re),B=b(re,"BUTTON",{class:!0});var de=I(B);U.l(de),de.forEach(d),re.forEach(d),ue.forEach(d),H.forEach(d),Y.forEach(d),this.h()},h(){e.async=!0,Q(e.src,s="https://www.googletagmanager.com/gtag/js?id=G-4JCE4T7WCH")||a(e,"src",s),a(y,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow pb-10"),a(T,"class","bg-transparent min-h-[2.5rem] flex-1 mr-2 border-0 resize-none border-none focus:outline-none"),a(T,"placeholder",G=l[8]("app.textareaPlaceholder")),T.autofocus=!0,a(T,"rows","1"),me(T,"overflow-y","auto"),me(T,"overflow","visible",1),me(T,"line-height","1.2rem"),me(T,"min-height","1.5rem"),a(B,"class","cursor-pointer hover:themegray transition-colors"),B.disabled=W=!l[10]&&!l[1].trim().length,a(V,"class","inputbox w-full flex items-end mt-auto mx-auto py-[0.5rem] relative"),a(S,"class","inputbox-container w-full px-3 flex justify-center items-center round-[1.25rem] bg-[#f4f4f4]"),a(k,"class","h-screen flex justify-stretch flex-col text-black/80 height-manager bg-primary"),a(E,"class","bg-primary overflow-hidden fixed w-full")},m(w,M){h(Se.head,e),h(Se.head,r),R(w,_,M),R(w,u,M),h(u,i),R(w,f,M),D&&D.m(w,M),R(w,o,M),R(w,E,M),h(E,k),h(k,y),j[c].m(y,null),l[31](y),h(k,C),h(k,S),h(S,V),h(V,T),l[32](T),ke(T,l[1]),h(V,A),h(V,B),U.m(B,null),P=!0,T.focus(),L||(N=[q(T,"input",l[33]),q(T,"input",Wt),q(T,"keydown",l[12]),q(B,"click",l[34]),q(B,"mouseover",l[35]),q(B,"mouseleave",l[36]),q(B,"focus",l[37]),q(B,"blur",l[38])],L=!0)},p(w,M){(!P||M[0]&256)&&m!==(m=w[8]("app.title")+"")&&fe(i,m),w[9]?D?(D.p(w,M),M[0]&512&&ee(D,1)):(D=ze(),D.c(),ee(D,1),D.m(o.parentNode,o)):D&&(ye(),ae(D,1,1,()=>{D=null}),we());let se=c;c=te(w),c===se?j[c].p(w,M):(ye(),ae(j[se],1,1,()=>{j[se]=null}),we(),p=j[c],p?p.p(w,M):(p=j[c]=Z[c](w),p.c()),ee(p,1),p.m(y,null)),(!P||M[0]&256&&G!==(G=w[8]("app.textareaPlaceholder")))&&a(T,"placeholder",G),M[0]&2&&ke(T,w[1]),x===(x=le(w,M))&&U?U.p(w,M):(U.d(1),U=x(w),U&&(U.c(),U.m(B,null))),(!P||M[0]&1026&&W!==(W=!w[10]&&!w[1].trim().length))&&(B.disabled=W)},i(w){P||(ee(D),ee(p),P=!0)},o(w){ae(D),ae(p),P=!1},d(w){w&&(d(_),d(u),d(f),d(o),d(E)),d(e),d(r),D&&D.d(w),j[c].d(),l[31](null),l[32](null),U.d(),L=!1,Ae(N)}}}const Ze=300;function $e(l){l.target.style.height="inherit";const e=window.getComputedStyle(l.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+l.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10),s=Math.min(t,Ze);l.target.style.height=`${s}px`,s>=Ze&&(l.target.scrollTop=l.target.scrollHeight)}function Wt(l){$e(l)}function Zt(){}function xt(l,e,t){let s,r,g,_;be(l,ie,n=>t(7,s=n)),be(l,dt,n=>t(8,r=n)),be(l,ft,n=>t(9,g=n)),be(l,ht,n=>t(10,_=n));const u={code:pt,em:mt,list:_t,listitem:gt,paragraph:vt,html:bt};ct.setOptions({highlight(n,O){return Me.getLanguage(O)?Me.highlight(O,n).value:Me.highlightAuto(n).value},langPrefix:"hljs language-"});let m=!1,i,f="",o,E,k,y=null,c="",p=null,C=!1;function S(){if(!k)return;const n={childList:!0,subtree:!0,characterData:!0};p=new MutationObserver((O,X)=>{V()}),p.observe(k,n)}st(async()=>{await kt(),C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),S(),window.addEventListener("message",$=>{console.log($.data),t(1,f=$.data),A()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".message-display h1, .message-display h2, .message-display h3, .message-display h4, .message-display h5, .message-display h6").forEach(ge=>{const ve=ge.textContent+"...";ge.setAttribute("data-text",ve)})});let n=localStorage.getItem("sendkey")||"Enter",O=localStorage.getItem("linebreakkey")||"Shift+Enter",X=[];Ce.set(n),Ce.subscribe($=>{localStorage.setItem("sendkey",$)}),Le.set(O),Le.subscribe($=>{localStorage.setItem("linebreakkey",$)}),ie.set(X),ie.subscribe($=>{localStorage.setItem("search_messages",JSON.stringify($))});const Te=localStorage.getItem("locale")||wt()||"en";He.set(Te),He.subscribe($=>{localStorage.setItem("locale",$)}),i=new URLSearchParams(window.location.search).get("aisearch_q"),i&&(t(1,f=i),A())}),at(()=>{p&&(p.disconnect(),p=null),yt()});function V(){k&&k.scrollHeight-k.scrollTop-150<=k.clientHeight&&t(4,k.scrollTop=k.scrollHeight,k)}const T={Enter:"001","Shift+Enter":"011","Ctrl+Enter":"101"};function G(n){let O=parseInt(T[pe(Ce)],2),X=parseInt(T[pe(Le)],2),Te=parseInt(n.key==="Enter"?"001":"000",2),Be=parseInt(n.shiftKey?"010":"000",2),ge=parseInt(n.ctrlKey?"100":"000",2)|Be|Te;if(!(O^ge)&&!C&&(n.preventDefault(),A()),!(X^ge)||n.key==="Enter"&&C){n.preventDefault();const oe=this,ve=oe.selectionStart,et=oe.selectionEnd;oe.value=oe.value.substring(0,ve)+`
`+oe.value.substring(et),oe.selectionStart=oe.selectionEnd=ve+1}}function A(){Et(f),t(1,f=""),t(2,o.style.height="1.5rem",o),t(2,o.style.lineHight="1.2rem",o)}function B(){k&&t(4,k.scrollTop=k.scrollHeight,k)}function z(n,O){It(n.replaceAll("\\n",`
`));let X=document.getElementsByClassName("copyAnime"+O)[0];X.classList.add("small-rotate-animation"),setTimeout(()=>{X.classList.remove("small-rotate-animation")},500)}let W=0;rt(()=>{const n=s.length||0;n>W&&B(),W=n});function P(n){t(5,y=n),t(6,c=pe(ie)[n].content)}function L(n){Pe(pe(ie)[n-1].content,n)}function N(){t(5,y=null),t(6,c=""),t(3,E.style.height="96px",E)}function D(n){Pe(c,n+1),N()}function Z(n){let O=s[n];O.isLiked=!0,O.isDisliked=!1;let X=pe(ie);X[n]=O,ie.set(X)}function j(n){let O=s[n];O.isLiked=!1,O.isDisliked=!0;let X=pe(ie);X[n]=O,ie.set(X)}const te=(n,O)=>z(n.content,O),le=n=>L(n),x=n=>Tt(n),U=n=>Z(n),w=n=>j(n);function M(n){De[n?"unshift":"push"](()=>{E=n,t(3,E)})}function se(){c=this.value,t(6,c)}const Y=()=>N(),H=n=>D(n),F=n=>P(n);function ue(n){De[n?"unshift":"push"](()=>{k=n,t(4,k)})}function re(n){De[n?"unshift":"push"](()=>{o=n,t(2,o)})}function de(){f=this.value,t(1,f)}return[m,f,o,E,k,y,c,s,r,g,_,u,G,A,z,P,L,N,D,Z,j,te,le,x,U,w,M,se,Y,H,F,ue,re,de,()=>{_?Dt():A()},()=>t(0,m=!0),()=>t(0,m=!1),()=>t(0,m=!0),()=>t(0,m=!1)]}class ll extends ot{constructor(e){super(),nt(this,e,xt,Ft,tt,{},null,[-1,-1])}}export{ll as component};
