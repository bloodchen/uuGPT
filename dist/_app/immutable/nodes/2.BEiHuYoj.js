import{s as w,e as h,i as v,d as k,o as S,c as y,u as L,g as P,a as M,h as x,k as N,l as O,E as T,n as f}from"../chunks/BuFKiBdU.js";import{S as H,i as I,a as d,c as $,t as _,g as q}from"../chunks/Djdnc2oG.js";import{l as z,p,b as C}from"../chunks/C4KbiJZZ.js";import{b as U}from"../chunks/4-LTQWWN.js";/* empty css                */import"../chunks/DShnQha-.js";import{u as j,a as E}from"../chunks/DPRyzf0Z.js";import{g as J,p as g,r as R}from"../chunks/DZVv445Z.js";import{g as V}from"../chunks/BrsJyGnw.js";import{g as B}from"../chunks/Dmbnp9b5.js";const le=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function D(r){let e;const a=r[2].default,t=y(a,r,r[1],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,o){t&&t.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&2)&&L(t,a,s,s[1],e?M(a,s[1],o,null):P(s[1]),null)},i(s){e||(_(t,s),e=!0)},o(s){d(t,s),e=!1},d(s){t&&t.d(s)}}}function F(r){let e,a='<aside class="sidebar-skeleton z-[21] flex shrink-0 overflow-x-hidden max-md:!w-0 w-64 flex-col h-full bg-grey-700"><div class="header skeleton"></div> <div class="chat-item skeleton"></div> <div class="chat-item skeleton"></div> <div class="chat-item skeleton"></div> <div class="chat-item skeleton"></div></aside> <div class="main-chat-skeleton"><div class="message skeleton mb-5 message-flex-end"></div> <div class="message skeleton"></div> <div class="message large skeleton"></div> <div class="message skeleton"></div></div>';return{c(){e=x("div"),e.innerHTML=a,this.h()},l(t){e=N(t,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-lzlsqg"&&(e.innerHTML=a),this.h()},h(){T(e,"class","flex h-screen")},m(t,s){v(t,e,s)},p:f,i:f,o:f,d(t){t&&k(e)}}}function K(r){let e,a,t,s;const o=[F,D],n=[];function c(l,i){return l[0]?0:1}return e=c(r),a=n[e]=o[e](r),{c(){a.c(),t=h()},l(l){a.l(l),t=h()},m(l,i){n[e].m(l,i),v(l,t,i),s=!0},p(l,[i]){let u=e;e=c(l),e===u?n[e].p(l,i):(q(),d(n[u],1,1,()=>{n[u]=null}),$(),a=n[e],a?a.p(l,i):(a=n[e]=o[e](l),a.c()),_(a,1),a.m(t.parentNode,t))},i(l){s||(_(a),s=!0)},o(l){d(a),s=!1},d(l){l&&k(t),n[e].d(l)}}}function X(r,e,a){let{$$slots:t={},$$scope:s}=e,o=!0;S(async()=>{let l=new URLSearchParams(window.location.search).get("mxcallback");const i=U();z.set(i),(J("MXTOKEN")!=null||l!=null)&&await j(),await E();let u=localStorage.getItem("limit")||"";if(u?p.set(u):V().then(m=>{m!==1&&(p.set(JSON.stringify(m.result)),localStorage.setItem("limit",JSON.stringify(m.result)))}),g().q){a(0,o=!1);return}await n(),C.subscribe(m=>{if(!m){const b=new URL(window.location.href);R("share"),window.history.pushState({},document.title,b)}}),a(0,o=!1)});async function n(){let c=g();if(!c.share)return;const l=c.share.split(",").map(i=>i.trim()).map(i=>Number(i)).filter(Boolean);l.length!=0&&await B(l)}return r.$$set=c=>{"$$scope"in c&&a(1,s=c.$$scope)},[o,s,t]}class ie extends H{constructor(e){super(),I(this,e,X,K,w,{})}}export{ie as component,le as universal};
