import{a as i,b as g,c as s,u as f,d as h,e as y,f as w,g as k,h as T,i as x,j as p}from"./BtGMJFbd.js";import{e as E,f as u}from"./CLpZC9pY.js";import{c as r,g as m,h as c}from"./BA1YXEPc.js";import{w as d}from"./BhusnUZQ.js";import{b as o}from"./MpRaoTL8.js";async function j(){try{let t=Date.now(),e=await r()(`https://api.uugpt.com/user/info?date=${t}`,{method:"GET",credentials:"include"});return e.ok?await e.json():1}catch{return 1}}async function _(t){try{let e=await r()("https://api.maxthon.com/web/profile",{method:"GET",credentials:"include",headers:{mxtoken:t}});return e.ok?await e.json():1}catch{return 1}}async function b(t){try{let e=await r()(`https://api.uugpt.com/user/login_partner?partner=mx&mxtoken=${t}`,{method:"GET",credentials:"include"});return e.ok?await e.json():1}catch{return 1}}async function U(t){try{let e=await r()(`https://api.uugpt.com/user/exist?email=${t}`);return e.ok?await e.json():1}catch{return 1}}async function C(t,e){try{let a=await r()("https://api.maxthon.com/web/sendcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code_id:e})});return a.ok?await a.json():1}catch{return 1}}async function P(t,e){try{let a=await r()("https://api.maxthon.com/web/verifycode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t,code_id:e})});return a.ok?await a.json():1}catch{return 1}}async function S(){try{let t=await r()("https://api.uugpt.com/user/signup",{method:"GET",credentials:"include"});return t.ok?await t.json():1}catch{return 1}}async function v(t,e){try{let a=await r()("https://api.uugpt.com/user/update",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:`{
        "info": {
          "password": "${e}",
          "email": "${t}"
        }
      }`});return a.ok?await a.json():1}catch{return 1}}async function $(t,e){try{let a=await r()(`https://api.uugpt.com/user/login?email=${t}&password=${e}`,{method:"GET",credentials:"include"});return a.ok?await a.json():1}catch{return 1}}async function G(t,e,a){try{let n=await r()(`https://api.uugpt.com/user/resetPass?email=${t}&new_pass=${e}&code=${a}`,{method:"GET",credentials:"include"});return n.ok?await n.json():1}catch{return 1}}async function O(t){try{let e=await r()("https://api.uugpt.com/userdata/set",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});return e.ok?await e.json():1}catch{return 1}}async function D(){try{let t=await r()("https://api.uugpt.com/userdata",{method:"GET",credentials:"include"});return t.ok?await t.json():1}catch{return 1}}async function M(t){try{let e=await r()(`https://api.uugpt.com/user/sendCode?email=${t}`,{method:"GET",credentials:"include"});return e.ok?await e.json():1}catch{return 1}}const F=d("Enter"),I=d("Shift+Enter"),l=d("en");async function q(){let t=m("MXTOKEN");if(t!=null){let e=await _(t);if(e!=1&&(await b(t)).code==0){i.set(e.account),g.set(e.avatar_url==""?"":e.avatar_url),s.set("maxthon");return}}}async function N(){if(m("uugpt_ut")==null)return 1;let e=await j();if(e.code!=0)return 1;e.info.partner=="google"&&s.set("google"),f.set(e.info.uid),o(s)!="maxthon"&&i.set(e.info.email),e.info.pay&&(h.set(e.info.pay.endTime),Date.now()<e.info.pay.endTime*1e3&&y.set(e.info.pay.product),w.set(e.info.pay.mode)),J(),E.update(a=>o(s)!=="maxthon"&&o(i)==null?(u.set(!0),!1):(u.set(!1),!0))}async function z(){return document.cookie="uugpt_ut=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=.uugpt.com; path=/;",0}async function H(t){let e=await U(t);return e==1||e.code!=0?1:e.exist}async function Q(t){let e=await C(t,p(!0));return e==1||e.code!=0?1:0}async function R(t){let e=await P(t,p());return e==1?1:e.code!=0?e.code:0}async function W(t,e,a){e=await c(e);let n=await G(t,e,a);return n==1?1:n.code!=0?n.code:0}async function Y(t,e){e=await c(e);let a=await v(t,e);return a==1?1:a.code!=0?a.code:0}async function Z(t,e){e=await c(e);let a=await $(t,e);return a==1?{code:1,msg:1}:a.code!=0?{code:a.code,msg:a.msg}:(N(),{code:a.code,msg:a.msg})}async function ee(t,e,a){let n=await O({sendkey:t,linebreakkey:e,language:a});return n==1?1:n.code!=0?n.code:0}async function J(){let t=await D();if(t==1)return 1;if(t.code!=0)return t.code;let e=t.data;return e.sendkey&&F.set(e.sendkey),e.linebreakkey&&I.set(e.linebreakkey),e.language&&l.set(e.language),e.tokens&&(e.tokens.cheap&&k.set(e.tokens.cheap),e.tokens.normal&&T.set(e.tokens.normal),e.tokens.expensive&&x.set(e.tokens.expensive)),l.set(e.language),0}async function te(){let t=await S();return t==1?1:t.code!=0?t.code:(u.set(!0),f.set(t.uid),0)}async function ae(t){let e=await M(t);return e==1?1:e.code!=0?e.code:0}export{ee as U,N as a,R as b,H as c,Y as d,Z as e,ae as f,te as g,F as h,z as i,I as l,W as r,Q as s,q as u};
