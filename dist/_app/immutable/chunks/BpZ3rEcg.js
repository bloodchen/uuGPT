import{u as o,d as g,e as s,f,h as y,j as h,k as w,a as k,n as u,o as p}from"./CWQjX3XA.js";import{c as r,g as m,h as c}from"./BS-OmsSI.js";import{w as d}from"./B-EX2rTa.js";import{b as i}from"./Db3hOLLS.js";async function T(){try{let e=Date.now(),t=await r()(`https://api.uugpt.com/user/info?date=${e}`,{method:"GET",credentials:"include"});return t.ok?await t.json():1}catch{return 1}}async function E(e){try{let t=await r()("https://api.maxthon.com/web/profile",{method:"GET",credentials:"include",headers:{mxtoken:e}});return t.ok?await t.json():1}catch{return 1}}async function j(e){try{let t=await r()(`https://api.uugpt.com/user/login_partner?partner=mx&mxtoken=${e}`,{method:"GET",credentials:"include"});return t.ok?await t.json():1}catch{return 1}}async function x(e){try{let t=await r()(`https://api.uugpt.com/user/exist?email=${e}`);return t.ok?await t.json():1}catch{return 1}}async function b(e,t){try{let a=await r()("https://api.maxthon.com/web/sendcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code_id:t})});return a.ok?await a.json():1}catch{return 1}}async function U(e,t){try{let a=await r()("https://api.maxthon.com/web/verifycode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,code_id:t})});return a.ok?await a.json():1}catch{return 1}}async function _(){try{let e=await r()("https://api.uugpt.com/user/signup",{method:"GET",credentials:"include"});return e.ok?await e.json():1}catch{return 1}}async function C(e,t){try{let a=await r()("https://api.uugpt.com/user/update",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:`{
        "info": {
          "password": "${t}",
          "email": "${e}"
        }
      }`});return a.ok?await a.json():1}catch{return 1}}async function P(e,t){try{let a=await r()(`https://api.uugpt.com/user/login?email=${e}&password=${t}`,{method:"GET",credentials:"include"});return a.ok?await a.json():1}catch{return 1}}async function S(e,t,a){try{let n=await r()(`https://api.uugpt.com/user/resetPass?email=${e}&new_pass=${t}&code=${a}`,{method:"GET",credentials:"include"});return n.ok?await n.json():1}catch{return 1}}async function $(e){try{let t=await r()("https://api.uugpt.com/userdata/set",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});return t.ok?await t.json():1}catch{return 1}}async function G(){try{let e=await r()("https://api.uugpt.com/userdata",{method:"GET",credentials:"include"});return e.ok?await e.json():1}catch{return 1}}async function O(e){try{let t=await r()(`https://api.uugpt.com/user/sendCode?email=${e}`,{method:"GET",credentials:"include"});return t.ok?await t.json():1}catch{return 1}}const v=d("Enter"),D=d("Shift+Enter"),l=d("en");async function A(){let e=m("MXTOKEN");if(e!=null){let t=await E(e);if(t!=1&&(await j(e)).code==0){o.set(t.account),g.set(t.avatar_url==""?"":t.avatar_url),s.set("maxthon");return}}}async function M(){if(m("uugpt_ut")==null)return 1;let t=await T();if(t.code!=0)return 1;t.info.partner=="google"&&s.set("google"),f.set(t.info.uid),i(s)!="maxthon"&&o.set(t.info.email),t.info.pay&&(y.set(t.info.pay.endTime),Date.now()<t.info.pay.endTime*1e3&&h.set(t.info.pay.product),w.set(t.info.pay.mode)),I(),k.update(a=>i(s)!=="maxthon"&&i(o)==null?(u.set(!0),!1):(u.set(!1),!0))}async function B(){return document.cookie="uugpt_ut=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=.uugpt.com; path=/;",0}async function V(e){let t=await x(e);return t==1||t.code!=0?1:t.exist}async function X(e){let t=await b(e,p(!0));return t==1||t.code!=0?1:0}async function q(e){let t=await U(e,p());return t==1?1:t.code!=0?t.code:0}async function z(e,t,a){t=await c(t);let n=await S(e,t,a);return n==1?1:n.code!=0?n.code:0}async function H(e,t){t=await c(t);let a=await C(e,t);return a==1?1:a.code!=0?a.code:0}async function Q(e,t){t=await c(t);let a=await P(e,t);return a==1?{code:1,msg:1}:a.code!=0?{code:a.code,msg:a.msg}:(M(),{code:a.code,msg:a.msg})}async function R(e,t,a){let n=await $({sendkey:e,linebreakkey:t,language:a});return n==1?1:n.code!=0?n.code:0}async function I(){let e=await G();if(e==1)return 1;if(e.code!=0)return e.code;let t=e.data;return t.sendkey&&v.set(t.sendkey),t.linebreakkey&&D.set(t.linebreakkey),t.language&&l.set(t.language),l.set(t.language),0}async function W(){let e=await _();return e==1?1:e.code!=0?e.code:(u.set(!0),f.set(e.uid),0)}async function Y(e){let t=await O(e);return t==1?1:t.code!=0?t.code:0}export{R as U,q as a,H as b,V as c,Q as d,Y as e,W as f,M as g,v as h,B as i,D as l,z as r,X as s,A as u};
