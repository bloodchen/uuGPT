const t="uugpt_theme_preference";function n(){return typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!0}function r(){if(typeof window>"u")return null;try{const e=localStorage.getItem(t);return e===null?null:e==="dark"}catch{return null}}function u(e){if(!(typeof window>"u"))try{localStorage.setItem(t,e?"dark":"light"),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{isDark:e}}))}catch{}}function d(){const e=r();return e!==null?e:n()}export{d as g,u as s};
