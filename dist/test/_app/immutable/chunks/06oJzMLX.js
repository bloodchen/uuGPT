import{u as i,a as c}from"./cGBS7uHv.js";import{c as r,i as u,h as s}from"./U4A57tt4.js";async function p(){try{let a=await r()("https://api.uugpt.com/user/info");if(a.ok){const t=await a.json();return console.log(t),t}else return 1}catch{return 1}}async function h(a){try{let t=await r()(`https://api.uugpt.com/user/exist?email=${a}`);if(t.ok){const e=await t.json();return console.log(e),e}else return 1}catch{return 1}}async function y(a,t){try{let e=await r()("https://api.maxthon.com/web/sendcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code_id:t})});return e.ok?await e.json():1}catch{return 1}}async function m(a,t){try{let e=await r()("https://api.maxthon.com/web/verifycode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,code_id:t})});return e.ok?await e.json():1}catch{return 1}}async function w(a,t){try{let e=await r()(`https://api.uugpt.com/user/signup?email=${a}&password=${t}`);return e.ok?await e.json():1}catch{return 1}}async function g(a,t){try{let e=await r()(`https://api.uugpt.com/user/login?email=${a}&password=${t}`);if(e.ok){const n=await e.json(),d=e.headers.get("set-cookie"),o=new Date;return o.setTime(o.getTime()+30*24*60*60*1e3),document.cookie=`uugpt_ut =${d}; expires=${o.toUTCString()}; path=/`,e.headers.forEach((f,l)=>{console.log(`${l}: ${f}`)}),n}else return 1}catch{return 1}}async function k(a,t){try{let e=await r()("https://api.uugpt.com/user/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({info:{password:t,email:a}})});return e.ok?await e.json():1}catch{return 1}}async function $(){p().then(a=>{a.code==0&&(i.set(a.info.uid),u.set(!0))})}async function x(a){let t=await h(a);return t==1||t.code!=0?1:t.exist}async function C(a){let t=await y(a,c(!0));return t==1||t.code!=0?1:0}async function O(a){let t=await m(a,c());return t==1?1:t.code!=0?t.code:0}async function P(a,t){t=await s(t);let e=await w(a,t);return e==1?1:e.code!=0?e.code:0}async function S(a,t){t=await s(t);let e=await k(a,t);return e==1?1:e.code!=0?e.code:0}async function b(a,t){t=await s(t);let e=await g(a,t);return e==1?1:e.code!=0?e.code:(i.set(e.uid),u.set(!0),0)}export{O as a,P as b,x as c,$ as g,S as r,C as s,b as u};
