import{h as W,c as f,o as r,a as e,n as B,_ as ne,p as i,av as de,g as c,d as oe,H as Q,l as H,A as pe,w as ge,I as h,m as a,a1 as me,t as v,aw as J,L as D,T as fe,E as he,M as V,ap as ve,Q as U,ax as ye,e as xe,x as be,i as _e,y as Z,B as j,F as ee,r as we,P as ke,C as $e,q as Se}from"./index-DFPN-wop.js";import{_ as Ce}from"./favicon-Bhvs0SYa.js";import{S as P,s as Ee,c as Te,f as Ke,d as ze,e as Me,C as te,T as Be,_ as De,a as Le,b as Fe}from"./messageSenderServices-CRFLToq7.js";import{_ as je}from"./IconArrowRight-yO18KVlh.js";import{_ as q}from"./IconChevronDown-mzv38V72.js";const Pe=["width","height"],He={__name:"IconInfo",props:{size:{type:[Number,String],default:24},className:{type:String,default:""}},setup(y){const w=y,g=W(()=>{const{size:d}=w;return typeof d=="string"&&isNaN(parseFloat(d))?d:`${(typeof d=="string"?parseFloat(d):d)/16}rem`});return(d,s)=>(r(),f("svg",{width:g.value,height:g.value,viewBox:"0 0 1024 1024",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:B(y.className)},[...s[0]||(s[0]=[e("path",{d:"M469.333333 341.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h0.426667a42.666667 42.666667 0 1 1 0 85.333333H512a42.666667 42.666667 0 0 1-42.666667-42.666667zM512 469.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666667a42.666667 42.666667 0 1 1-85.333334 0v-170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667z","p-id":"14381"},null,-1),e("path",{d:"M42.666667 512C42.666667 252.8 252.8 42.666667 512 42.666667s469.333333 210.133333 469.333333 469.333333-210.133333 469.333333-469.333333 469.333333S42.666667 771.2 42.666667 512z m469.333333-384a384 384 0 1 0 0 768 384 384 0 0 0 0-768z"},null,-1)])],10,Pe))}},Ie={class:"flex flex-col h-full overflow-y-auto p-4 md:p-8"},Ne={class:"max-w-3xl mx-auto w-full space-y-6"},Re={class:"flex justify-start"},Ve={class:"flex flex-col items-start gap-3 w-11/12"},Ue={class:"flex flex-row items-center justify-start gap-3"},Ae={class:"bg-gray-100 rounded-2xl p-4 space-y-2 w-full"},Ge={__name:"AIMessageSkeleton",setup(y){return(w,g)=>(r(),f("div",Ie,[e("div",Ne,[e("div",Re,[e("div",Ve,[e("div",Ue,[g[0]||(g[0]=e("div",{class:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"},null,-1)),i(P,{count:1,size:"sm",width:"16"})]),e("div",Ae,[i(P,{count:1,size:"sm",width:"full"}),i(P,{count:1,size:"sm",width:"11/12"}),g[1]||(g[1]=e("div",{class:"h-2"},null,-1)),i(P,{count:2,size:"sm",width:"full"}),i(P,{count:1,size:"sm",width:"2/3"})])])]),g[2]||(g[2]=e("div",{class:"h-20"},null,-1))])]))}},Oe=ne(Ge,[["__scopeId","data-v-e5530a8b"]]),X=de("framedStores",()=>{const y=c("Enter"),w=c("Shift+Enter"),g=c(""),d=c([]),s=c(!1);return{sendKey:y,lineBreakKey:w,language:g,messages:d,isStreaming:s}},{persist:{key:"globalParamentStores",storage:localStorage,pick:["sendKey","lineBreakKey","language"]}}),Je={class:"absolute top-3 right-3 z-20"},qe={class:"text-xl font-bold px-[1.55rem] sm:px-8 pt-5 pb-3 sticky top-0 bg-white z-10 rounded-t-2xl"},We={class:"px-6 sm:px-8 flex flex-col gap-4 py-4 overflow-y-auto scroll-fade min-h-0 h-[calc(100%-5rem)]"},Qe={class:"w-full py-3 px-4 rounded-lg shadow flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2 border border-themegreyborder"},Xe={class:"text-sm font-bold text-gray-500 md:text-themegrey"},Ye={class:"relative md:max-w-[15rem] w-full text-sm"},Ze={class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},et={class:"w-full py-3 px-4 rounded-lg shadow flex flex-col md:gap-4 gap-6 border border-themegreyborder"},tt={class:"w-full flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2"},st={class:"text-sm font-bold pl-1 md:pl-0 text-gray-500 md:text-themegrey"},nt={class:"relative md:max-w-[15rem] w-full text-sm"},ot={value:"Enter"},at={value:"Shift+Enter"},lt={value:"Ctrl+Enter"},rt={class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},it={class:"w-full flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2"},ut={class:"text-sm font-bold pl-1 md:pl-0 text-gray-500 md:text-themegrey"},ct={class:"relative md:max-w-[15rem] w-full text-sm"},dt={value:"Shift+Enter"},pt={value:"Ctrl+Enter"},gt={value:"Enter"},mt={class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},ft={class:"w-full py-4 px-4 rounded-lg shadow flex flex-col md:gap-4 gap-6 border border-themegreyborder"},ht={class:"w-full flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2 py-1"},vt={class:"text-sm font-bold pl-1 md:pl-0 text-gray-500 md:text-themegrey"},yt={class:"w-full flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2 py-1"},xt={class:"text-sm font-bold pl-1 md:pl-0 text-gray-500 md:text-themegrey"},bt={class:"pl-1 md:pl-0 text-sm text-themegreen flex flex-row items-center gap-2"},_t={href:"/terms",target:"_blank",class:"font-bold hover:underline hover:text-themegreenhover cursor-pointer"},wt={href:"/privacy",target:"_blank",class:"font-bold hover:underline hover:text-themegreenhover cursor-pointer"},kt={class:"w-full flex flex-col md:flex-row justify-between items-start md:items-center md:gap-4 gap-2 py-1"},$t={class:"text-sm font-bold pl-1 md:pl-0 text-gray-500 md:text-themegrey"},St={__name:"SettingsModalFramed",props:{isSettingsOn:{type:Boolean,default:!1}},emits:["close"],setup(y,{emit:w}){const{t:g,locale:d}=oe(),s=X(),z=w,E=c(d.value||"zh"),p=c(!1),k=c(null),m=c(s.sendKey),K=c(!1),x=c(s.lineBreakKey),L=c(!1);function I(){z("close")}function N(){window.open("https://commonapi.mxfast.com/static/feedback/?app=uugpt","_blank")}function A(){s.language=E.value,d.value=E.value}function G(){s.sendKey=m.value}function O(){s.lineBreakKey=x.value}return(b,o)=>{const R=Q("scroll-fade");return r(),H(he,{to:"body"},[i(fe,{name:"fade"},{default:pe(()=>[e("div",{class:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm w-screen flex items-end md:items-center justify-center",style:{height:"100dvh"},onClick:I},[e("div",{class:"relative w-full md:w-[40rem] rounded-t-2xl md:rounded-2xl bg-white",style:{height:"85dvh",maxHeight:"calc(100dvh - 2rem)",paddingBottom:"env(safe-area-inset-bottom)"},onClick:o[9]||(o[9]=ge(()=>{},["stop"]))},[e("div",Je,[e("button",{class:"p-2 rounded-full hover:bg-gray-100 active:scale-95 transition-colors duration-200 text-textmain/40 z-10",onClick:I},[i(a(me),{size:"20",class:"text-textmain/40"})])]),e("h2",qe,v(b.$t("settings.title")),1),h((r(),f("div",We,[e("div",Qe,[e("span",Xe,v(b.$t("settings.language")),1),e("div",Ye,[h(e("select",{ref_key:"languageSelectRef",ref:k,"onUpdate:modelValue":o[0]||(o[0]=$=>E.value=$),onChange:A,onFocus:o[1]||(o[1]=$=>p.value=!0),onBlur:o[2]||(o[2]=$=>p.value=!1),class:"w-full py-2 pl-3 pr-10 rounded-lg bg-secondary border border-gray-100 focus:border-themegreen focus:outline-none focus:ring-2 focus:ring-themegreen/20 appearance-none cursor-pointer transition-all"},[...o[10]||(o[10]=[e("option",{value:"zh"},"中文 (Chinese)",-1),e("option",{value:"en"},"English (English)",-1),e("option",{value:"es"},"Español (Spanish)",-1),e("option",{value:"fr"},"Français (French)",-1),e("option",{value:"de"},"Deutsch (German)",-1),e("option",{value:"ja"},"日本語 (Japanese)",-1),e("option",{value:"ko"},"한국어 (Korean)",-1),e("option",{value:"ru"},"Русский (Russian)",-1),e("option",{value:"pt"},"Português (Portuguese)",-1),e("option",{value:"it"},"Italiano (Italian)",-1),e("option",{value:"ar"},"العربية (Arabic)",-1),e("option",{value:"hi"},"हिन्दी (Hindi)",-1),e("option",{value:"tr"},"Türkçe (Turkish)",-1),e("option",{value:"vi"},"Tiếng Việt (Vietnamese)",-1),e("option",{value:"th"},"ไทย (Thai)",-1),e("option",{value:"pl"},"Polski (Polish)",-1),e("option",{value:"nl"},"Nederlands (Dutch)",-1),e("option",{value:"sv"},"Svenska (Swedish)",-1),e("option",{value:"fi"},"Suomi (Finnish)",-1),e("option",{value:"no"},"Norsk (Norwegian)",-1),e("option",{value:"da"},"Dansk (Danish)",-1),e("option",{value:"id"},"Indonesia (Indonesian)",-1),e("option",{value:"ms"},"Bahasa Malaysia (Malay)",-1),e("option",{value:"hi"},"हिन्दी (Hindi)",-1),e("option",{value:"tr"},"Türkçe (Turkish)",-1),e("option",{value:"vi"},"Tiếng Việt (Vietnamese)",-1),e("option",{value:"th"},"ไทย (Thai)",-1),e("option",{value:"pl"},"Polski (Polish)",-1),e("option",{value:"nl"},"Nederlands (Dutch)",-1),e("option",{value:"sv"},"Svenska (Swedish)",-1)])],544),[[J,E.value]]),e("div",Ze,[i(a(q),{size:"16",class:B(["text-gray-500 transition-transform duration-200",{"rotate-180":p.value}])},null,8,["class"])])])]),e("div",et,[e("div",tt,[e("span",st,v(b.$t("settings.sendKey")),1),e("div",nt,[h(e("select",{"onUpdate:modelValue":o[3]||(o[3]=$=>m.value=$),onChange:G,onFocus:o[4]||(o[4]=$=>K.value=!0),onBlur:o[5]||(o[5]=$=>K.value=!1),class:"w-full py-2 pl-3 pr-10 rounded-lg bg-secondary border border-gray-100 focus:border-themegreen focus:outline-none focus:ring-2 focus:ring-themegreen/20 appearance-none cursor-pointer transition-all"},[h(e("option",ot,"Enter",512),[[D,a(s).lineBreakKey!=="Enter"]]),h(e("option",at,"Shift+Enter",512),[[D,a(s).lineBreakKey!=="Shift+Enter"]]),h(e("option",lt,"Ctrl+Enter",512),[[D,a(s).lineBreakKey!=="Ctrl+Enter"]])],544),[[J,m.value]]),e("div",rt,[i(a(q),{size:"16",class:B(["text-gray-500 transition-transform duration-200",{"rotate-180":K.value}])},null,8,["class"])])])]),e("div",it,[e("span",ut,v(b.$t("settings.lineBreakKey")),1),e("div",ct,[h(e("select",{onChange:O,"onUpdate:modelValue":o[6]||(o[6]=$=>x.value=$),onFocus:o[7]||(o[7]=$=>L.value=!0),onBlur:o[8]||(o[8]=$=>L.value=!1),class:"w-full py-2 pl-3 pr-10 rounded-lg bg-secondary border border-gray-100 focus:border-themegreen focus:outline-none focus:ring-2 focus:ring-themegreen/20 appearance-none cursor-pointer transition-all"},[h(e("option",dt,"Shift+Enter",512),[[D,a(s).sendKey!=="Shift+Enter"]]),h(e("option",pt,"Ctrl+Enter",512),[[D,a(s).sendKey!=="Ctrl+Enter"]]),h(e("option",gt,"Enter",512),[[D,a(s).sendKey!=="Enter"]])],544),[[J,x.value]]),e("div",mt,[i(a(q),{size:"16",class:B(["text-gray-500 transition-transform duration-200",{"rotate-180":L.value}])},null,8,["class"])])])])]),e("div",ft,[e("div",ht,[e("span",vt,v(b.$t("settings.currentV")),1),o[11]||(o[11]=e("a",{href:"/changelog",target:"_blank",class:"pl-1 md:pl-0 text-sm font-bold text-themegreen hover:underline hover:text-themegreenhover cursor-pointer"},"V1.1.1",-1))]),e("div",yt,[e("span",xt,v(b.$t("settings.termsText")),1),e("span",bt,[e("a",_t,v(b.$t("home.footer.terms",{default:"Terms of Service"})),1),o[12]||(o[12]=e("span",null,"&",-1)),e("a",wt,v(b.$t("home.footer.privacy",{default:"Privacy Policy"})),1)])]),e("div",kt,[e("span",$t,v(b.$t("settings.userSupport")),1),e("a",{href:"javascript:void(0)",onClick:N,class:"pl-1 md:pl-0 text-sm font-bold text-themegreen hover:underline hover:text-themegreenhover cursor-pointer"},v(b.$t("app.feedback",{default:"User Support"})),1)])])])),[[R]])])])]),_:1})])}}},Ct=ne(St,[["__scopeId","data-v-b9e87a38"]]);let u=null,T=null;function Et(){T&&(T.close(),T=null),u.isStreaming=!1,u.messages[u.messages.length-1].isDone=!0}function Tt(){return u||(u=X()),{framedStore:u}}function Kt(y){if(y&&y.substring(0,5)=="[ERR]")try{let w=JSON.parse(y.substring(5,y.length));return{code:w.code,msg:w.msg}}catch{return{code:"unknown",msg:"Unknown error"}}return!1}async function se(y,w=-1){Tt(),u.isStreaming=!0;let g={role:"user",content:y,isDone:!0},d={role:"assistant",content:"",isDone:!1};u.messages.push(g,d);let s=u.messages.length-1;const z={messages:[{role:"system",content:V.global.t("aisystem")},...u.messages]};let E=await Ee(z,!0);T=E,E.addEventListener("message",p=>{let k=p.data;if(k=="[DONE]"){u.isStreaming=!1,u.messages[s].isDone=!0;return}let m=Kt(k);if(m){if(T&&(T.close(),T=null),u.isStreaming=!1,u.messages[s].isDone=!0,m.msg){const K=ve(m.msg,V.global.t);U.error(K)}return}u.messages[s].content+=k.replace(/\\n/g,`\r
`)}),E.addEventListener("error",p=>{const k=p.target?.xhr?.status||p.detail?.status||p.status||p.statusCode;let m=null;p.detail?.type==="timeout"?m=V.global.t("ERR.API_TIMEOUT"):(k===524||k===504||k===408)&&(m=V.global.t("ERR.API_TIMEOUT")),m&&U.error(m),T&&(T.close(),T=null),u.isStreaming=!1,u.messages[s].isDone=!0}),E.addEventListener("close",p=>{T=null,u.isStreaming=!1,u.messages[s].isDone=!0})}const zt={key:0,class:"flex h-full w-full"},Mt={class:"flex flex-col px-2 py-1 h-auto"},Bt={key:0,class:"flex flex-row-reverse items-end mb-2"},Dt={class:"group/conversation-turn relative rounded-xl text-sm lg:text-base bg-gray-100 px-5 py-2.5 rounded-tr-md max-w-[86%]"},Lt={key:1,class:"w-full flex flex-col mb-2"},Ft={class:"text-sm"},jt={class:"w-full group/conversation-turn relative rounded-xl text-sm lg:text-base rounded-tl-md px-0.5"},Pt={class:"inline-flex gap-1 flex-col md:flex-row items-start md:items-center py-2 px-3 rounded-lg bg-gray-50 group-hover:bg-gray-100 transition-all duration-300"},Ht={class:"text-themegreen font-bold flex gap-1 items-center"},It={class:"flex flex-row items-center mt-2 -ml-2"},Nt=["onClick"],Rt=["onClick"],Vt=["onClick"],Ut={class:"flex-shrink-0 flex flex-col justify-end w-full h-auto"},At={class:"w-full py-1.5 px-2 flex flex-row gap-2"},Gt={class:"text-sm"},Ot={class:"w-5 h-5 flex items-center justify-center p-0.5"},Jt={class:"text-sm"},qt={class:"w-5 h-5 flex items-center justify-center p-0.5"},Wt={class:"text-sm"},Qt={class:"h-auto w-full flex-shrink-0 mx-auto"},Xt={class:"w-full flex flex-row justify-between items-end min-w-0"},Yt=["placeholder"],Zt=["disabled"],as={__name:"Framed",setup(y){const{locale:w,t:g}=oe();ye();const d=c(null),s=X(),z=xe(),E=c(!1),p=c(null),k=c(!1),m=c(!1),K=c(1),x=c("");function L(t){x.value=t.target.value;const n=t.target.value||"",_=n===""?1:n.split(`
`).length;K.value=Math.min(Math.max(1,_),N.value)}be(s.messages,()=>{G()&&O()});function I(t){const n=s.sendKey||"Enter",_=s.lineBreakKey||"Shift+Enter",S=t.key==="Enter",l=S&&t.shiftKey&&!t.ctrlKey,C=S&&t.ctrlKey&&!t.shiftKey,F=S&&!t.shiftKey&&!t.ctrlKey,ie=n==="Enter"&&F||n==="Shift+Enter"&&l||n==="Ctrl+Enter"&&C,ue=_==="Enter"&&F||_==="Shift+Enter"&&l||_==="Ctrl+Enter"&&C;if(ie){t.preventDefault(),b();return}if(ue){t.preventDefault();const M=t.target,Y=M.selectionStart,ce=M.selectionEnd;M.value=M.value.substring(0,Y)+`
`+M.value.substring(ce),M.selectionStart=M.selectionEnd=Y+1,M.dispatchEvent(new Event("input"));return}}const N=W(()=>z.isTouchDevice?4:12),A=W(()=>{const S=1.3+Math.min(K.value,N.value)*1.2,C=Math.max(2.5,S);return z.isTouchDevice?`min(40dvh, 15.7rem, ${C}rem)`:`min(40vh, 15.7rem, ${C}rem)`});_e(()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-4JCE4T7WCH",document.head.appendChild(t),window.dataLayer=window.dataLayer||[];function n(){dataLayer.push(arguments)}if(window.gtag=n,n("js",new Date),n("config","G-4JCE4T7WCH"),s.language==""){const C=(navigator.language||navigator.userLanguage||"en").split("-")[0].toLowerCase();s.language=C}w.value=s.language;const S=new URLSearchParams(window.location.search).get("aisearch_q");S&&(x.value=S,b())});function G(){if(!p.value)return!1;const t=p.value,n=t.scrollTop||0,_=t.scrollHeight||0,S=t.clientHeight||0;return _-n-S<100}function O(){p.value&&Z(()=>{const t=p.value;t&&(t.scrollTop=t.scrollHeight)})}function b(){x.value=x.value.trim(),x.value.length&&(se(x.value),x.value="",K.value=1,Z(()=>{d.value&&(d.value.style.height="")}))}function o(){window.open("https://commonapi.mxfast.com/static/feedback/?app=uugpt","_blank")}function R(){window.open("/chat","_blank")}function $(t){navigator.clipboard.writeText(t).then(()=>{U.success(g("app.copySuccess",{default:"Copied"}))}).catch(n=>{U.error(g("app.copyFailed",{default:"Copy failed"}))})}function ae(t){s.messages.splice(t-1,2)}function le(t){se(s.messages[t-1].content,t)}function re(){s.messages=[]}return(t,n)=>{const _=Q("tippy"),S=Q("scroll-fade");return r(),f(ee,null,[E.value?(r(),f("div",zt,[i(Oe,{class:"h-full w-full"})])):(r(),f("div",{key:1,class:B(["flex flex-col w-full bg-white",a(z).isTouchDevice?"touch-height":"h-screen"])},[h((r(),f("div",{ref_key:"messageListRef",ref:p,class:"flex-1 w-full overflow-y-auto pb-4 scroll-fade"},[e("div",Mt,[(r(!0),f(ee,null,we(a(s).messages,(l,C)=>(r(),f("div",{key:l.index},[l.role==="user"&&C!==0?(r(),f("div",Bt,[e("div",Dt,[i(te,{message:l.content},null,8,["message"])])])):j("",!0),l.role==="assistant"?(r(),f("div",Lt,[e("button",{onClick:R,class:"cursor-pointer rounded-full w-8 h-8 flex items-center gap-1"},[n[6]||(n[6]=e("img",{src:Ce,alt:"UUGPT",class:"w-8 h-8 -ml-1"},null,-1)),e("span",Ft,v(t.$t("app.assistantname",{default:"uuGPT"})),1)]),e("div",jt,[i(te,{message:l.content},null,8,["message"]),l.isDone?j("",!0):(r(),H(Be,{key:0}))]),l.isDone&&C===a(s).messages.length-1?(r(),f("a",{key:0,class:"text-sm text-gray-500 cursor-pointer group mt-2",onClick:R},[e("span",Pt,[Se(v(t.$t("app.gotouugpt",{default:"✨ Need to permanently save chat history or access more advanced AI models?"}))+" ",1),e("span",Ht,[e("span",null,v(t.$t("app.gotouugptlink",{default:"Click to visit uuGPT"})),1),i(a(je),{size:"16",class:"group-hover:translate-x-0.5 transition-all duration-300 flex-shrink-0"})])])])):j("",!0),e("div",It,[h((r(),f("button",{class:"p-2 rounded-md hover:bg-gray-100 transition-all active:scale-95 cursor-pointer text-themegreen",onClick:F=>$(l.content)},[i(a(De),{size:"16"})],8,Nt)),[[_,{content:t.$t("app.copy",{default:"Copy"}),placement:"top"}]]),h((r(),f("button",{class:"p-2 rounded-md hover:bg-gray-100 transition-all active:scale-95 cursor-pointer text-themegreen",onClick:F=>le(C)},[i(a(Le),{size:"16"})],8,Rt)),[[_,{content:t.$t("app.retry",{default:"Retry"}),placement:"top"}]]),h((r(),f("button",{class:"p-1.5 rounded-md hover:bg-gray-100 transition-all active:scale-95 cursor-pointer text-themegreen",onClick:F=>ae(C)},[i(a(Fe),{size:"20"})],8,Vt)),[[_,{content:t.$t("app.delete",{default:"Delete"}),placement:"top"}]])])])):j("",!0)]))),128))])])),[[S]]),e("div",Ut,[e("div",At,[e("button",{onClick:re,class:"cursor-pointer rounded-lg py-1 pl-1 pr-2 hover:bg-gray-100 active:scale-95 transition-all focused:bg-gray-200 text-themegreen flex flex-row justify-center items-center gap-1 border border-gray-300"},[i(a(Te),{size:"20"}),e("span",Gt,v(t.$t("topbar.clearConversation",{default:"Clear Chat"})),1)]),e("button",{onClick:o,class:"cursor-pointer rounded-lg py-1 pl-1 pr-2 hover:bg-gray-100 active:scale-95 transition-all focused:bg-gray-200 text-themegreen flex flex-row justify-center items-center gap-1 border border-gray-300"},[e("span",Ot,[i(a(He))]),e("span",Jt,v(t.$t("app.feedback",{default:"Feedback"})),1)]),e("button",{onClick:n[0]||(n[0]=l=>m.value=!0),class:"cursor-pointer rounded-lg py-1 pl-1 pr-2 hover:bg-gray-100 active:scale-95 transition-all focused:bg-gray-200 text-themegreen flex flex-row justify-center items-center gap-1 border border-gray-300"},[e("span",qt,[i(a(Ke))]),e("span",Wt,v(t.$t("settings.title",{default:"Settings"})),1)])]),e("div",Qt,[e("div",{class:B(["w-[calc(100%-0.125rem)] mx-auto px-3 py-1 flex justify-center items-center bg-gray-100 transition-all rounded-2xl h-auto",k.value?"border-2 border-themegreen bg-white":"border-2 border-transparent"])},[e("div",Xt,[h(e("textarea",{ref_key:"textareaRef",ref:d,class:"bg-transparent min-h-[2.5rem] py-[0.65rem] flex-1 min-w-0 max-w-full border-0 resize-none focus:outline-none overflow-y-auto overflow-x-hidden leading-[1.2rem] text-[0.875rem]",style:$e({height:A.value,minHeight:"2.5rem",maxHeight:a(z).isTouchDevice?"30dvh":"40vh"}),placeholder:t.$t("app.textareaPlaceholder",{default:"Type your message..."}),rows:"1","onUpdate:modelValue":n[1]||(n[1]=l=>x.value=l),onInput:L,onKeydown:I,onFocus:n[2]||(n[2]=l=>k.value=!0),onBlur:n[3]||(n[3]=l=>k.value=!1)},null,44,Yt),[[ke,x.value]]),h((r(),f("button",{onClick:n[4]||(n[4]=l=>a(s).isStreaming?a(Et)():b()),disabled:!a(s).isStreaming&&!x.value.trim().length,class:"group flex-shrink-0 cursor-pointer disabled:cursor-not-allowed active:scale-95 transition-all w-10 h-10 rounded-full flex items-center justify-center"},[e("span",{class:B(["w-8 h-8 flex items-center justify-center text-themegreen group-hover:text-white group-hover:bg-themegreen group-disabled:bg-transparent group-disabled:text-themegreen/60 rounded-full",{"border border-themegreen":a(s).isStreaming}])},[a(s).isStreaming?(r(),H(a(ze),{key:0})):(r(),H(a(Me),{key:1,size:"20"}))],2)],8,Zt)),[[_,{content:t.$t("app.submit",{default:"Send"}),placement:"top"}]])])],2)])])],2)),m.value?(r(),H(Ct,{key:2,onClose:n[5]||(n[5]=l=>m.value=!1)})):j("",!0)],64)}}};export{as as default};
